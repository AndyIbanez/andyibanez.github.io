<!doctype html><html prefix="og: http://ogp.me/ns#" lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,user-scalable=no"><meta http-equiv=x-ua-compatible content="ie=edge"><script async src="https://www.googletagmanager.com/gtag/js?id=G-CE7T69YX8Y"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-CE7T69YX8Y")}</script><link rel=icon type=image/png href=https://www.andyibanez.com/img/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=https://www.andyibanez.com/img/favicon-16x16.png sizes=16x16><link rel=canonical href=https://www.andyibanez.com/posts/pattern-matching/><link rel=alternate hreflang=en href=https://www.andyibanez.com/posts/pattern-matching/ title><meta name=description content="Learn how to apply pattern matching with Swift in your code."><meta name=author content><meta name=theme-color content="#292148"><meta itemprop=name content="Introduction to Patterns and Pattern Matching in Swift."><meta itemprop=description content="Learn how to apply pattern matching with Swift in your code."><meta itemprop=datePublished content="2019-10-30T07:00:00-04:00"><meta itemprop=dateModified content="2019-10-30T07:00:00-04:00"><meta itemprop=wordCount content="1858"><meta itemprop=keywords content="swift,patternmatching,ios,tvos,ipados,watchos"><meta property="og:url" content="https://www.andyibanez.com/posts/pattern-matching/"><meta property="og:site_name" content="Andy Ibanez"><meta property="og:title" content="Introduction to Patterns and Pattern Matching in Swift."><meta property="og:description" content="Learn how to apply pattern matching with Swift in your code."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-10-30T07:00:00-04:00"><meta property="article:modified_time" content="2019-10-30T07:00:00-04:00"><meta property="article:tag" content="Swift"><meta property="article:tag" content="Programming"><meta property="article:tag" content="Apple"><meta property="article:tag" content="Ios"><meta property="article:tag" content="Ipados"><meta property="article:tag" content="Macos"><meta name=twitter:card content="summary"><meta name=twitter:title content="Introduction to Patterns and Pattern Matching in Swift."><meta name=twitter:description content="Learn how to apply pattern matching with Swift in your code."><meta name=twitter:creator content="@"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","url":"https://www.andyibanez.com/posts/pattern-matching/","headline":"Introduction to Patterns and Pattern Matching in Swift.","description":"Learn how to apply pattern matching with Swift in your code.","datePublished":"2019-10-30","keywords":"swift,programming,apple,ios,ipados,macos,tvos,watchos,patternmatching","author":{"@type":"Person","name":""}}</script><title>Introduction to Patterns and Pattern Matching in Swift. - Andy Ibanez</title><link rel=stylesheet href=https://www.andyibanez.com/style.main.min.18f604b90ed15864d7faa967f1ef9eacb99e1c967eff38762ec29b7bf1ab5876.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-CE7T69YX8Y"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-CE7T69YX8Y")}</script></head><body><div class=wrapper><nav><div class=container><div class=language-selector></div></div></nav><header><div class=container><div class=header-group><div class=header-logo-container><a class=header-logo-link href=https://www.andyibanez.com/><img class=header-logo-circle src=https://www.andyibanez.com/img/andy_profile.png alt="Andy Ibanez logo"></a></div><div class=header-title><a href=https://www.andyibanez.com/>Andy Ibanez</a></div></div></div></header><nav><div class=container><div class=main-navigation><a href=/about/>About Me</a><a href=/posts/>Blog</a><a href=/projects/>Projects</a><a href=/tags/>Tags</a><a href=/contact/>Contact</a><a href=/privacy-policy/>Privacy policy</a></div></div></nav><div class=container><div class=search><input type=text id=searchInput placeholder="Type here to search"></div><div class="container search-results-container" hidden=true><div id=searchResults class=search-results></div></div></div><main><div class=container><article><h1 class=title>Introduction to Patterns and Pattern Matching in Swift.</h1><p class=publish>Published on
<time class=post-date datetime=2019-10-30T07:00:00-04:00>October 30, 2019</time></p><p>Swift is a beautiful language, but it hides some powerful features from developers who come from more &ldquo;old-style&rdquo; programming languages such as C++ and Java. One such feature is Pattern Matching, and it allows you to write some cleaner code when dealing with some operations.</p><p>For example, consider casting. Casting is a feature in the vast majority of statically-typed languages. Casting is considered to be an ugly operation by some, because when you need to cast, it&rsquo;s usually because the language has a flaw that prevents it from telling you about the right data type underneath. This is specially true when you add in Object-Oriented Programming and classes are marked to return a super type instead of a specific subtype. With pattern matching, you can more cleanly check for datatypes without having to worry about crashes or weird behavior.</p><p>In this article, we will learn what &ldquo;Patterns&rdquo; are in this context, we will explore the specific casting pattern, and we will explore a few other common patterns that are used in Swift. We will also talk about pattern matching along the way so you can learn about this feature along the way, if you haven&rsquo;t already.</p><h1 id=introduction-to-patterns-and-pattern-matching>Introduction to Patterns and Pattern Matching</h1><p>Pattern matching is the checking and locating of specific sequences of data in some specific pattern mixed with random data. Not to be confused with pattern recognition, which allows us to observe a bunch of raw data and find some kind pattern into it. In pattern matching, you already know what the pattern looks like, and you want to know when it&rsquo;s found, and what kind of data to retrieve from it, if applicable.</p><p>The pattern represents the structure of a single value or a composite value. You can essentially use this pattern to get information about data, and/or the data itself. Patterns can be very varied, from data type checking to enum checking, and more.</p><p>In Swift, pattern matching is usually done with the <code>switch</code> statement, but you can use this powerful feature with other features as well, like <code>for</code> loops and even <code>catch</code>.</p><h1 id=types-of-patterns>Types of Patterns</h1><p>Switch has the following patterns:</p><ul><li>Wildcard Pattern</li><li>Identifier Pattern</li><li>Value-Binding Pattern</li><li>Tuple Pattern</li><li>Enumeration Case Pattern</li><li>Optional Pattern</li><li>Type-Casting Pattern</li><li>Expression Pattern</li></ul><p>We will explore all of them and learn how to apply them in Pattern Matching.</p><h2 id=the-wildcard-pattern>The Wildcard Pattern</h2><p>The Wildcard Patterns ignores any value and replaces it with <em>nothing</em>, represented as an underscore. You can use this pattern when you don&rsquo;t care about the values provided in a pattern.</p><p>In the following example, you can do something three times with a <code>for</code> loop. Swift doesn&rsquo;t have the traditional <code>for(;;)</code> loop, so if you need to do something repeatedly without necessarily caring about a value, you can do this:</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#cba6f7>for</span> <span style=color:#fab387>_</span> <span style=color:#cba6f7>in</span> <span style=color:#fab387>1.</span>..<span style=color:#fab387>3</span> {
</span></span><span style=display:flex><span>  <span style=color:#89dceb>print</span>(<span style=color:#a6e3a1>&#34;I&#39;m doing something!&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>You commonly use the <code>for</code> loop to fast-iterate over the values of a collection. This works, because <code>1...3</code> creates a <a href=https://developer.apple.com/documentation/swift/Range><code>Range</code></a> which on every iteration returns a number within it. We are <em>matching</em> any random in the range and using an underscore to represent it, since we don&rsquo;t care about its value.</p><h2 id=identifier-pattern>Identifier Pattern</h2><p>This is the most common pattern of all, and you use it all the time. This pattern matches any value and binds it to a variable or constant name. It&rsquo;s a full mouth way of saying &ldquo;variable assignment&rdquo;.</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>doll</span> = <span style=color:#a6e3a1>&#34;Classical Alice&#34;</span>
</span></span></code></pre></div><p>This will assign the value &ldquo;Classical Alice&rdquo; to the variable &ldquo;doll&rdquo;.</p><p>You have used this pattern before, but did you know you can discard the contents of the assignment? This is useful when you call a function with side effects and you don&rsquo;t need to store its value at all. I do this all the time with <code>Sec</code> functions that return a OSStatus, but there&rsquo;s situations when it may never return any errors at all:</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>_</span> = functionWithSideEffects()
</span></span></code></pre></div><h2 id=value-binding-pattern>Value-Binding Pattern.</h2><p>In this pattern is where things start to become more interesting. This pattern allows you to match a tuple and grab its values independently.</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>coordinate</span> = (<span style=color:#fab387>5</span>, <span style=color:#89dceb;font-weight:700>-</span><span style=color:#fab387>3</span>)
</span></span><span style=display:flex><span><span style=color:#cba6f7>switch</span> coordinate {
</span></span><span style=display:flex><span><span style=color:#cba6f7>case</span> <span style=color:#f38ba8>let</span> (x, y):
</span></span><span style=display:flex><span>  <span style=color:#89dceb>print</span>(<span style=color:#a6e3a1>&#34;Coordintate: </span><span style=color:#a6e3a1>\(</span>x<span style=color:#a6e3a1>)</span><span style=color:#a6e3a1>, </span><span style=color:#a6e3a1>\(</span>y<span style=color:#a6e3a1>)</span><span style=color:#a6e3a1>&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Also, now is a good time to mention that you can use the <code>where</code> keyword to do more complex pattern matching. In the following example, we will not bind the <code>y</code> value (we are replacing it with an underscore), and we will only match the <code>x</code> value when it is higher than 10:</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>coordinate</span> = (<span style=color:#fab387>5</span>, <span style=color:#89dceb;font-weight:700>-</span><span style=color:#fab387>3</span>)
</span></span><span style=display:flex><span><span style=color:#cba6f7>switch</span> coordinate {
</span></span><span style=display:flex><span><span style=color:#cba6f7>case</span> <span style=color:#f38ba8>let</span> (x, <span style=color:#fab387>_</span>) <span style=color:#cba6f7>where</span> x <span style=color:#89dceb;font-weight:700>&gt;</span> <span style=color:#fab387>10</span>:
</span></span><span style=display:flex><span>  <span style=color:#89dceb>print</span>(<span style=color:#a6e3a1>&#34;This coordinate is way to the right of the x axis. </span><span style=color:#a6e3a1>\(</span>x<span style=color:#a6e3a1>)</span><span style=color:#a6e3a1>&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>It&rsquo;s also worth noting that the <code>case</code> match in the order they appear in. Consider the following:</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>coordinate</span> = (<span style=color:#fab387>12</span>, <span style=color:#89dceb;font-weight:700>-</span><span style=color:#fab387>3</span>)
</span></span><span style=display:flex><span><span style=color:#cba6f7>switch</span> coordinate {
</span></span><span style=display:flex><span><span style=color:#cba6f7>case</span> <span style=color:#f38ba8>let</span> (x, y):
</span></span><span style=display:flex><span>  <span style=color:#89dceb>print</span>(<span style=color:#a6e3a1>&#34;Coordintate: </span><span style=color:#a6e3a1>\(</span>x<span style=color:#a6e3a1>)</span><span style=color:#a6e3a1>, </span><span style=color:#a6e3a1>\(</span>y<span style=color:#a6e3a1>)</span><span style=color:#a6e3a1>&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#cba6f7>case</span> <span style=color:#f38ba8>let</span> (x, <span style=color:#fab387>_</span>) <span style=color:#cba6f7>where</span> x <span style=color:#89dceb;font-weight:700>&gt;</span> <span style=color:#fab387>10</span>:
</span></span><span style=display:flex><span>  <span style=color:#89dceb>print</span>(<span style=color:#a6e3a1>&#34;This coordinate is way to the right of the x axis. </span><span style=color:#a6e3a1>\(</span>x<span style=color:#a6e3a1>)</span><span style=color:#a6e3a1>&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Despite the value we want has a value bigger than 10, the second case will never be executed. This is because the first case matches perfectly. You can, however match multiple patterns with the <code>fallthrough</code> keyword.</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>coordinate</span> = (<span style=color:#fab387>12</span>, <span style=color:#89dceb;font-weight:700>-</span><span style=color:#fab387>3</span>)
</span></span><span style=display:flex><span><span style=color:#cba6f7>switch</span> coordinate {
</span></span><span style=display:flex><span><span style=color:#cba6f7>case</span> <span style=color:#f38ba8>let</span> (x, y):
</span></span><span style=display:flex><span>  <span style=color:#89dceb>print</span>(<span style=color:#a6e3a1>&#34;Coordintate: </span><span style=color:#a6e3a1>\(</span>x<span style=color:#a6e3a1>)</span><span style=color:#a6e3a1>, </span><span style=color:#a6e3a1>\(</span>y<span style=color:#a6e3a1>)</span><span style=color:#a6e3a1>&#34;</span>)
</span></span><span style=display:flex><span>  <span style=color:#cba6f7>fallthrough</span>
</span></span><span style=display:flex><span><span style=color:#cba6f7>case</span> <span style=color:#f38ba8>let</span> (x, <span style=color:#fab387>_</span>) <span style=color:#cba6f7>where</span> x <span style=color:#89dceb;font-weight:700>&gt;</span> <span style=color:#fab387>10</span>:
</span></span><span style=display:flex><span>  <span style=color:#89dceb>print</span>(<span style=color:#a6e3a1>&#34;This coordinate is way to the right of the x axis. </span><span style=color:#a6e3a1>\(</span>x<span style=color:#a6e3a1>)</span><span style=color:#a6e3a1>&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>You can write very interesting and easy to understand code with this.</p><h2 id=tuple-pattern>Tuple Pattern</h2><p>A tuple is a comma-separated list of zero or more patterns. You may have used patterns before:</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#f38ba8>func</span> <span style=color:#89b4fa>makeCoordinate</span>(x: <span style=color:#89dceb>Int</span>, y: <span style=color:#89dceb>Int</span>) -&gt; (<span style=color:#89dceb>Int</span>, <span style=color:#89dceb>Int</span>) {
</span></span><span style=display:flex><span>	<span style=color:#cba6f7>return</span> (x, y)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Tuples are very powerful and they extend the power of pattern matching even more.</p><p>Consider an array of Coordinates. You can bind a value in each iteration to get the values.</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>coordinates</span> = [(<span style=color:#fab387>1</span>, <span style=color:#fab387>1</span>), (<span style=color:#fab387>2</span>, <span style=color:#fab387>2</span>), (<span style=color:#fab387>5</span>, <span style=color:#fab387>5</span>), (<span style=color:#fab387>7</span>, <span style=color:#fab387>5</span>), (<span style=color:#fab387>9</span>, <span style=color:#fab387>2</span>), (<span style=color:#fab387>3</span>, <span style=color:#fab387>5</span>)]
</span></span><span style=display:flex><span><span style=color:#cba6f7>for</span> (x, y) <span style=color:#cba6f7>in</span> coordinates {
</span></span><span style=display:flex><span>  <span style=color:#6c7086;font-style:italic>// Only iterate over the values that have a 5 in the `y` position.</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>But even more interesting, once again, you can use the <code>where</code> keyboard to further constraint the matching. In the following example we will only get the coordinates that have a value of <code>y > 5</code>.</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>coordinates</span> = [(<span style=color:#fab387>1</span>, <span style=color:#fab387>1</span>), (<span style=color:#fab387>2</span>, <span style=color:#fab387>2</span>), (<span style=color:#fab387>5</span>, <span style=color:#fab387>5</span>), (<span style=color:#fab387>7</span>, <span style=color:#fab387>5</span>), (<span style=color:#fab387>9</span>, <span style=color:#fab387>2</span>), (<span style=color:#fab387>3</span>, <span style=color:#fab387>5</span>)]
</span></span><span style=display:flex><span><span style=color:#cba6f7>for</span> (x, y) <span style=color:#cba6f7>in</span> coordinates <span style=color:#cba6f7>where</span> y <span style=color:#89dceb;font-weight:700>&gt;</span> <span style=color:#fab387>5</span> {
</span></span><span style=display:flex><span>  <span style=color:#6c7086;font-style:italic>// Only iterate over the values that have a 5 in the `y` position.</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=enumeration-case-pattern>Enumeration Case Pattern</h2><p>This is a very nice pattern, and a very powerful one. This is the kind of pattern you can use with <code>Error</code>. This kind of patterns lets not only match pure cases, but also cases with parameters.</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#f38ba8>enum</span> <span style=color:#f9e2af>DataError</span>: Error {
</span></span><span style=display:flex><span>  <span style=color:#cba6f7>case</span> writingError(localizedDescription: <span style=color:#89dceb>String</span>, file: Data)
</span></span><span style=display:flex><span>  <span style=color:#cba6f7>case</span> readingError(localizedDescription: <span style=color:#89dceb>String</span>, fileURL: URL)
</span></span><span style=display:flex><span>  <span style=color:#cba6f7>case</span> unknownError
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>error</span> = DataError.writingError(localizedDescription: <span style=color:#a6e3a1>&#34;Error writing file&#34;</span>, file: Data())
</span></span><span style=display:flex><span><span style=color:#cba6f7>switch</span> error {
</span></span><span style=display:flex><span><span style=color:#cba6f7>case</span> .writingError(<span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>description</span>, <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>data</span>):
</span></span><span style=display:flex><span>  <span style=color:#89dceb>print</span>(<span style=color:#a6e3a1>&#34;Could write data </span><span style=color:#a6e3a1>\(</span>data<span style=color:#a6e3a1>)</span><span style=color:#a6e3a1> because </span><span style=color:#a6e3a1>\(</span>description<span style=color:#a6e3a1>)</span><span style=color:#a6e3a1>&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#cba6f7>case</span> .readingError(<span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>description</span>, <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>url</span>):
</span></span><span style=display:flex><span>  <span style=color:#89dceb>print</span>(<span style=color:#a6e3a1>&#34;Couldn&#39;t read file at </span><span style=color:#a6e3a1>\(</span>url<span style=color:#a6e3a1>)</span><span style=color:#a6e3a1> because </span><span style=color:#a6e3a1>\(</span>description<span style=color:#a6e3a1>)</span><span style=color:#a6e3a1>&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#cba6f7>case</span> .unknownError:
</span></span><span style=display:flex><span>  <span style=color:#89dceb>print</span>(<span style=color:#a6e3a1>&#34;Unknown error&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>We defined a <code>DataError</code> and we can match all the different cases. And yes, in case of the case parameters (such as <code>localizedDescription</code>), you can use the wildcard pattern if you don&rsquo;t care about retrieving their values at all.</p><h2 id=optional-pattern>Optional Pattern</h2><p>In Swift, Optionals are just syntactic sugar for the Optional Pattern. An optional is simply an <code>enum</code>, and you can match this even.</p><p>Take a look at the following code:</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>anOptional</span>: <span style=color:#89dceb>Int</span>? = <span style=color:#fab387>50</span>
</span></span><span style=display:flex><span><span style=color:#cba6f7>if</span> <span style=color:#cba6f7>case</span> .some(<span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>value</span>) = anOptional {
</span></span><span style=display:flex><span>  <span style=color:#6c7086;font-style:italic>// The optional has a value</span>
</span></span><span style=display:flex><span>  <span style=color:#89dceb>print</span>(value)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>In Swift, we can use this shorthand form:</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#cba6f7>if</span> <span style=color:#cba6f7>case</span> <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>value</span>? = anOptional {
</span></span><span style=display:flex><span>  <span style=color:#89dceb>print</span>(value)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>But the real power of this pattern comes from other uses. You can use it to iterate over an array of options and ignore the values that are nil, for example.</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>names</span>: [<span style=color:#89dceb>String</span>?] = [<span style=color:#a6e3a1>&#34;Alice&#34;</span>, <span style=color:#fab387>nil</span>, <span style=color:#a6e3a1>&#34;Eileen&#34;</span>, <span style=color:#a6e3a1>&#34;Margarethe&#34;</span>, <span style=color:#a6e3a1>&#34;Alura&#34;</span>, <span style=color:#fab387>nil</span>, <span style=color:#fab387>nil</span>, <span style=color:#a6e3a1>&#34;Momoko&#34;</span>]
</span></span><span style=display:flex><span><span style=color:#cba6f7>for</span> <span style=color:#cba6f7>case</span> <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>name</span>? <span style=color:#cba6f7>in</span> names {
</span></span><span style=display:flex><span>  <span style=color:#6c7086;font-style:italic>/// Print all the names</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=type-casting-pattern>Type Casting Pattern</h2><p>This pattern allows to avoid casting if you want more safety and it allows you to check for object types if you ever need to. There&rsquo;s to forms to this pattern:</p><ul><li>You can check if an object is of a certain type with the <code>is</code> keyword.</li><li>You can match and cast to see if an object is of a type and cast to it immediately to use it.</li></ul><p>The former is only available in <code>switch</code> statements. The latter gives you more flexibility and chances are you have used it before, in the form of <code>if let foo = myObject as? Class {}</code>.</p><p>Using the <code>is</code> keyword is really easy, and you can use it if you only case about the type of an object, and not about its properties or other kind of data.</p><p>In the following example, we will check if a vehicle is of a given type and let the user know what matches:</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#f38ba8>public</span> <span style=color:#f38ba8>class</span> <span style=color:#f9e2af>Vehicle</span> {}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f38ba8>public</span> <span style=color:#f38ba8>class</span> <span style=color:#f9e2af>Car</span>: Vehicle  {
</span></span><span style=display:flex><span>  <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>wheels</span>: <span style=color:#89dceb>Int</span>
</span></span><span style=display:flex><span>  <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>size</span>: <span style=color:#89dceb>Int</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#f38ba8>init</span>(wheels: <span style=color:#89dceb>Int</span>, size: <span style=color:#89dceb>Int</span>) {
</span></span><span style=display:flex><span>    <span style=color:#fab387>self</span>.wheels = wheels
</span></span><span style=display:flex><span>    <span style=color:#fab387>self</span>.size = size
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f38ba8>public</span> <span style=color:#f38ba8>class</span> <span style=color:#f9e2af>Airplane</span>: Vehicle {
</span></span><span style=display:flex><span>  <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>wings</span>: <span style=color:#89dceb>Int</span>
</span></span><span style=display:flex><span>  <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>capacity</span>: <span style=color:#89dceb>Int</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#f38ba8>init</span>(wings: <span style=color:#89dceb>Int</span>, capacity: <span style=color:#89dceb>Int</span>) {
</span></span><span style=display:flex><span>    <span style=color:#fab387>self</span>.wings = wings
</span></span><span style=display:flex><span>    <span style=color:#fab387>self</span>.capacity = capacity
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f38ba8>func</span> <span style=color:#89b4fa>makeVehicle</span>() -&gt; Vehicle {
</span></span><span style=display:flex><span>  <span style=color:#cba6f7>return</span> Airplane(wings: <span style=color:#fab387>2</span>, capacity: <span style=color:#fab387>200</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>aVehicle</span> = makeVehicle()
</span></span><span style=display:flex><span><span style=color:#cba6f7>switch</span> aVehicle {
</span></span><span style=display:flex><span><span style=color:#cba6f7>case</span> <span style=color:#cba6f7>is</span> Car:
</span></span><span style=display:flex><span>  <span style=color:#89dceb>print</span>(<span style=color:#a6e3a1>&#34;The vehicle is a car&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#cba6f7>case</span> <span style=color:#cba6f7>is</span> Airplane:
</span></span><span style=display:flex><span>  <span style=color:#89dceb>print</span>(<span style=color:#a6e3a1>&#34;The vehicle is an airplane&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#cba6f7>default</span>:
</span></span><span style=display:flex><span>  <span style=color:#89dceb>print</span>(<span style=color:#a6e3a1>&#34;unknown vehicle&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Now if you need to know the type of an object and do need to access its properties, you need to use the &ldquo;casting&rdquo; form of this pattern. Once again, you have probably used a variation of this, but I like this other form because it doesn&rsquo;t rely on optionals and it writes very neat code for the most part (I&rsquo;m not a fan of having to specify a default case):</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>vehicle</span> = makeVehicle()
</span></span><span style=display:flex><span><span style=color:#cba6f7>switch</span> vehicle {
</span></span><span style=display:flex><span><span style=color:#cba6f7>case</span> <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>vehicle</span> <span style=color:#cba6f7>as</span> Car:
</span></span><span style=display:flex><span>  <span style=color:#89dceb>print</span>(<span style=color:#a6e3a1>&#34;This car has </span><span style=color:#a6e3a1>\(</span>vehicle.wheels<span style=color:#a6e3a1>)</span><span style=color:#a6e3a1> and it&#39;s size is </span><span style=color:#a6e3a1>\(</span>vehicle.size<span style=color:#a6e3a1>)</span><span style=color:#a6e3a1>&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#cba6f7>case</span> <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>vehicle</span> <span style=color:#cba6f7>as</span> Airplane:
</span></span><span style=display:flex><span>  <span style=color:#89dceb>print</span>(<span style=color:#a6e3a1>&#34;This airplane has </span><span style=color:#a6e3a1>\(</span>vehicle.wings<span style=color:#a6e3a1>)</span><span style=color:#a6e3a1> wings and a capacity for </span><span style=color:#a6e3a1>\(</span>vehicle.capacity<span style=color:#a6e3a1>)</span><span style=color:#a6e3a1> people&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#cba6f7>default</span>:
</span></span><span style=display:flex><span>  <span style=color:#89dceb>print</span>(<span style=color:#a6e3a1>&#34;Unknown vehicle&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Do note that this pattern matches both the class you specify and any subclasses of it, so make sure you order your cases accordingly.</p><h2 id=the-expression-pattern>The Expression Pattern</h2><p>This pattern represents the value of an expression. This pattern can only appear inside <code>switch</code> statements.</p><p>This pattern users the <code>~=</code>. This operator by default compares values of the same type using <code>==</code>. It can also match elements in ranges, checking to see if the value is within the range. You can implement this function for your own types.</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>coord</span> = (<span style=color:#fab387>1</span>, <span style=color:#fab387>1</span>)
</span></span><span style=display:flex><span><span style=color:#cba6f7>switch</span> coord {
</span></span><span style=display:flex><span><span style=color:#cba6f7>case</span> (<span style=color:#89dceb;font-weight:700>-</span><span style=color:#fab387>5.</span>..<span style=color:#fab387>5</span>, <span style=color:#89dceb;font-weight:700>-</span><span style=color:#fab387>5.</span>..<span style=color:#fab387>5</span>):
</span></span><span style=display:flex><span>  <span style=color:#89dceb>print</span>(<span style=color:#a6e3a1>&#34;Both coordinates are within the same range. x is </span><span style=color:#a6e3a1>\(</span>coord.<span style=color:#fab387>0</span><span style=color:#a6e3a1>)</span><span style=color:#a6e3a1> and y is </span><span style=color:#a6e3a1>\(</span>coord.<span style=color:#fab387>1</span><span style=color:#a6e3a1>)</span><span style=color:#a6e3a1>&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#cba6f7>default</span>:
</span></span><span style=display:flex><span>  <span style=color:#89dceb>print</span>(<span style=color:#a6e3a1>&#34;no matches&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h1 id=conclusion>Conclusion</h1><p>Pattern matching is a really powerful and interesting feature. It can help you write cleaner code and there&rsquo;s many ways to do it. You can use pattern matching in many different places to improve the quality of your code.</p></article></div></main><footer><div class=container><div class=footer-navigation><a href=https://github.com/AndyIbanez><span class=inline-svg><svg viewBox="0 0 42 40" id="svg4" width="42" height="40"><path fill="currentColor" d="m14.20936 32.20794c0 .16542-.19024.29776-.4301.29776-.27295.0248-.46319-.10752-.46319-.29776.0-.16542.19024-.29776.4301-.29776.24814-.0248.46319.10752.46319.29776zm-2.57234-.3722c-.0579.16542.10753.35566.35566.40528.21505.0827.46319.0.51282-.16542.0496-.16542-.10753-.35566-.35566-.4301-.21505-.0579-.45492.0248-.51282.19024zm3.65586-.14061c-.23986.0579-.40529.21505-.38047.40528.0248.16543.23986.27295.488.21505.23986-.0579.40528-.21505.38047-.38047-.0248-.15715-.24813-.26468-.488-.23986zM20.73531-.19734273e-6C9.2632-.19734273e-6.48748 8.7095398.48748 20.18166c0 9.17273 5.77328 17.02207 14.01964 19.78464 1.05871.19024 1.43091-.46319 1.43091-1.00081.0-.51282-.0248-3.34156-.0248-5.0785.0.0-5.78982 1.24067-7.00568-2.46481.0.0-.94292-2.40691-2.29939-3.02725.0.0-1.8941-1.29857.13234-1.27376.0.0 2.05952.16542 3.19267 2.13396 1.81139 3.19267 4.84691 2.27457 6.02969 1.72868.19023-1.32339.72786-2.24149 1.32338-2.78739-4.62358-.51281-9.28852-1.18278-9.28852-9.13964.0-2.27458.62861-3.416 1.95199-4.87172-.21505-.53763-.9181-2.7543.21506-5.6161302 1.72867-.53762 5.7071 2.2332202 5.7071 2.2332202 1.65424-.46319 3.43254-.70305 5.1943-.70305 1.76176.0 3.54006.23986 5.1943.70305.0.0 3.97843-2.7791202 5.7071-2.2332202 1.13315 2.8701002.4301 5.0785002.21505 5.6161302 1.32339 1.46399 2.13397 2.60542 2.13397 4.87172.0 7.98168-4.87172 8.61856-9.49531 9.13964.76095.65342 1.4061 1.8941 1.4061 3.83782.0 2.78739-.0248 6.23647-.0248 6.9147.0.53763.38047 1.19105 1.43091 1.00082 8.27117-2.74603 13.87903-10.59537 13.87903-19.7681C41.51252 8.7095398 32.20745-.19734273e-6 20.73533-.19734273e-6zM8.52706 28.52727c-.10752.0827-.0827.27295.0579.4301.13234.13234.32258.19024.4301.0827.10753-.0827.0827-.27295-.0579-.4301-.13233-.13234-.32257-.19024-.4301-.0827zM7.63378 27.8573c-.0579.10753.0248.23987.19023.32258.13234.0827.29777.0579.35566-.0579C8.23757 28.01446 8.15487 27.88212 7.98944 27.7994 7.82401 27.7498 7.69168 27.7746 7.63378 27.8573zm2.67986 2.94454c-.13234.10753-.0827.35566.10752.51281.19024.19024.4301.21505.53763.0827.10752-.10752.0579-.35566-.10753-.51281-.18196-.19024-.4301-.21505-.53762-.0827zM9.37072 29.58598c-.13234.0827-.13234.29776.0.488.13234.19023.35566.27295.46319.19023.13234-.10752.13234-.32257.0-.51281-.1158-.19024-.33085-.27295-.46319-.16542z" id="path2" style="stroke-width:.08271171"/></svg>
</span></a><a href=https://x.com/AndyIbanezK><span class=inline-svg><svg viewBox="0 0 50 40" id="svg4" width="50" height="40"><path fill="currentColor" d="m44.56253 9.96871c.0313.43748.0313.87506.0313 1.31254C44.59383 24.62494 34.43764 40 15.87508 40 10.1563 40 4.84383 38.34368.37506 35.4688c.81253.0937 1.5937.12495 2.4375.12495 4.71867.0 9.06249-1.5937 12.53125-4.31245-4.43751-.0938-8.15627-3.00003-9.43754-7.00006.62505.0937 1.25001.15622 1.90632.15622.90622.0 1.81254-.12505 2.65624-.34369C5.84384 23.15619 2.37498 19.09373 2.37498 14.18748v-.12495c1.3437.75 2.90633 1.21875 4.56246 1.28117-2.71876-1.81253-4.49993-4.90624-4.49993-8.40627.0-1.87497.4999-3.59372 1.37496-5.09373 4.96877 6.125 12.43756 10.12493 20.81248 10.56251-.15622-.75001-.25-1.53118-.25-2.31245C24.37495 4.5312 28.87498.0 34.46871.0c2.90623.0 5.53121 1.21875 7.37501 3.1875 2.28118-.43748 4.46867-1.28127 6.40626-2.43749-.75011 2.3438-2.34381 4.31255-4.43751 5.56246 2.03127-.21864 4.00003-.78126 5.81247-1.56244-1.37477 1.99992-3.09362 3.7811-5.06237 5.21868z" id="path2" style="stroke-width:.09619153"/></svg>
</span></a><a href=https://www.linkedin.com/in/andyibanez/><span class=inline-svg><svg viewBox="0 0 41 40" id="svg4" width="41" height="40"><path fill="currentColor" d="M9.45332 40H1.16028V13.29405H9.45332zM5.30234 9.65111c-2.65185.0-4.80279-2.19648-4.80279-4.84832a4.80279 4.80279.0 019.60558.0c0 2.65184-2.15184 4.84832-4.80279 4.84832zM40.49152 40H32.21633V26.99971c0-3.09828-.0625-7.07159-4.3117-7.07159-4.3117.0-4.97243 3.36615-4.97243 6.84837V40H14.64808V13.29405h7.95375v3.64294h.11608c1.10716-2.09827 3.81169-4.3126 7.8466-4.3126 8.39304.0 9.93594 5.52691 9.93594 12.70564V40z" id="path2" style="stroke-width:.08928771"/></svg>
</span></a><a href=https://www.andyibanez.com/blog/index.xml><span class=inline-svg><svg viewBox="0 0 40 40" id="svg4" width="40" height="40"><path fill="currentColor" d="m11.435816 34.282008c0 3.15793-2.5599899 5.71793-5.7179299 5.71793s-5.717840022654-2.56-5.717840022654-5.71793c0-3.15794 2.559990022654-5.71793 5.717930022654-5.71793s5.7178399 2.56008 5.7178399 5.71793zm15.68388 4.21873C26.373806 24.697208 15.317496 13.626978 1.4992361 12.880288.68361608 12.836188.46077346e-4 13.491538.46077346e-4 14.308318v4.29186c0 .75134.579460002654 1.38142 1.329190022654 1.43017 9.9849699.65036 17.9886099 8.63408 18.6402999 18.6403.0488.74973.67893 1.3292 1.43018 1.3292h4.29186c.81687 9e-5 1.47223-.68348 1.42812-1.49911zm12.87933.0257C39.249566 17.649718 22.452206.754048 1.4735261.00092799867.66727608-.027972.46077346e-4.623338.46077346e-4 1.430038v4.29177c0 .77008.610270002654 1.39687 1.379730022654 1.42848 17.0694999.6999 30.7701699 14.40316 31.4699899 31.46999.0315.76946.6583 1.37972 1.42848 1.37972h4.29177c.8066-8e-5 1.45794-.66731 1.42901-1.47356z" id="path2" style="stroke-width:.08928544"/></svg>
</span></a><a href=https://www.andyibanez.com/curriculum/><span class=inline-svg><svg viewBox="0 0 15680 20480" id="svg4" width="35" height="40"><path fill="currentColor" d="M11655.83 12824.48 7840.0001 16640.464 4024.17 12824.48c-2859.863 123.906-5143.7701 2463.775-5143.7701 5352.003v384.005c0 1059.853 859.96601 1919.512 1919.92167 1919.512H14879.678c1059.956.0 1919.922-859.659 1919.922-1919.512v-384.005c0-2888.228-2283.906-5228.097-5143.77-5352.003zM-575.64445 3193.1279l256.0032 59.9048v2335.7732c-279.9651 167.9381-479.9548 459.7818-479.9548 812.0422.0 335.8762 183.9639 615.9437 443.96075 787.9778l-623.9822 2491.9352c-67.9944 275.9716 84.02025 559.6229 303.9782 559.6229H996.31762c219.95798.0 371.97268-283.6513 303.97828-559.6229L676.31362 7188.8259c259.99685-172.0341 443.96078-452.1016 443.96078-787.9778.0-352.2604-199.98973-644.1041-479.95483-812.0422V3484.9716l2639.90503 635.9119c-344.0171 688.1366-559.9814 1456.1463-559.9814 2279.9646.0 2827.8113 2291.8942 5119.5519 5119.7569 5119.5519 2827.8619.0 5119.7569-2291.7406 5119.7569-5119.5519.0-823.8183-211.971-1591.828-559.982-2279.9646l3851.824-927.7556c727.971-176.1302 727.971-1083.9175.0-1260.0477L8635.9653 92.929226c-519.9937-123.905551-1067.943-123.905551-1587.9367.0L-575.64445 1928.9841c-723.92585 176.1302-723.92585 1088.0136.0 1264.1438z" id="path2" style="stroke-width:39.99821472"/></svg>
</span></a><a href=https://www.andyibanez.com/contact-me><span class=inline-svg><svg viewBox="0 0 40 40" id="svg4" width="40" height="40"><path fill="currentColor" d="m39.99999 36.249999c0 2.0711-1.6789 3.75-3.74999 3.75H3.75c-2.07109.0-3.74999-1.6789-3.74999-3.75v-20.56843a3.7499996 3.7499996.0 011.43648-2.95125c1.94633-1.5257 3.55476-2.7628904 12.82812-9.4930404C15.57906 2.2789186 18.18727-.02709136 20 .00024864227 21.81234-.02745136 24.42156 2.2793086 25.73539 3.2371986c9.27242 6.72945 10.88304 7.9683604 12.82812 9.4931204a3.7499996 3.7499996.0 011.43648 2.95125zm-5.13015-15.35976c-.20024-.29125-.60156-.35898-.88586-.14898-1.78476 1.3182-4.33297 3.18008-8.24859 6.02179-1.31445.95828-3.92266 3.26414-5.73539 3.23672-1.81336.0269-4.41867-2.2768-5.73539-3.23672-3.91515-2.8414-6.46359-4.70343-8.24859-6.02179-.2843-.21-.68562-.14227-.88586.14898l-.70875 1.03094a.62484368.62484368.0 00.14367.8568c1.78805 1.32023 4.33235 3.1789 8.2268 6.00531 1.5839 1.15476 4.41593 3.73539 7.20812 3.71664 2.79094.0189 5.62195-2.56024 7.20804-3.71664 3.89453-2.82649 6.43891-4.68516 8.2268-6.00531a.62484368.62484368.0 00.14367-.8568z" id="path2" style="stroke-width:.07812498"/></svg></span></a></div></div><p class=made-with-love><a href=https://github.com/humrochagf/colordrop><b>Colordrop</b>
</a><span>theme | Made </span><span>by</span>
<a href=https://humberto.io/><b>Humberto Rocha</b></a></p></footer></div><script src=/copy/copy.js></script><script src=/search/elasticlunr.min.js></script><script src=/search/search.js></script><script>loadSearch()</script></body></html>