<!doctype html><html prefix="og: http://ogp.me/ns#" lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,user-scalable=no"><meta http-equiv=x-ua-compatible content="ie=edge"><script async src="https://www.googletagmanager.com/gtag/js?id=G-CE7T69YX8Y"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-CE7T69YX8Y")}</script><link rel=icon type=image/png href=https://www.andyibanez.com/img/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=https://www.andyibanez.com/img/favicon-16x16.png sizes=16x16><link rel=canonical href=https://www.andyibanez.com/posts/filtering-arrays-nspredicate/><link rel=alternate hreflang=en href=https://www.andyibanez.com/posts/filtering-arrays-nspredicate/ title><meta name=description content="Learn how to use the powerful NSPredicate API for searching and filtering."><meta name=author content><meta name=theme-color content="#292148"><meta itemprop=name content="Filtering Arrays with Predicates"><meta itemprop=description content="Learn how to use the powerful NSPredicate API for searching and filtering."><meta itemprop=datePublished content="2019-10-16T07:00:00-04:00"><meta itemprop=dateModified content="2019-10-16T07:00:00-04:00"><meta itemprop=wordCount content="1388"><meta itemprop=keywords content="swift,nspredicate,arrays,nsarray,ios,tvos,ipados,watchos"><meta property="og:url" content="https://www.andyibanez.com/posts/filtering-arrays-nspredicate/"><meta property="og:site_name" content="Andy Ibanez"><meta property="og:title" content="Filtering Arrays with Predicates"><meta property="og:description" content="Learn how to use the powerful NSPredicate API for searching and filtering."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-10-16T07:00:00-04:00"><meta property="article:modified_time" content="2019-10-16T07:00:00-04:00"><meta property="article:tag" content="Swift"><meta property="article:tag" content="Programming"><meta property="article:tag" content="Apple"><meta property="article:tag" content="Ios"><meta property="article:tag" content="Ipados"><meta property="article:tag" content="Macos"><meta name=twitter:card content="summary"><meta name=twitter:title content="Filtering Arrays with Predicates"><meta name=twitter:description content="Learn how to use the powerful NSPredicate API for searching and filtering."><meta name=twitter:creator content="@"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","url":"https://www.andyibanez.com/posts/filtering-arrays-nspredicate/","headline":"Filtering Arrays with Predicates","description":"Learn how to use the powerful NSPredicate API for searching and filtering.","datePublished":"2019-10-16","keywords":"swift,programming,apple,ios,ipados,macos,tvos,watchos,nspredicate,arrays,nsarray","author":{"@type":"Person","name":""}}</script><title>Filtering Arrays with Predicates - Andy Ibanez</title><link rel=stylesheet href=https://www.andyibanez.com/style.main.min.18f604b90ed15864d7faa967f1ef9eacb99e1c967eff38762ec29b7bf1ab5876.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-CE7T69YX8Y"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-CE7T69YX8Y")}</script></head><body><div class=wrapper><nav><div class=container><div class=language-selector></div></div></nav><header><div class=container><div class=header-group><div class=header-logo-container><a class=header-logo-link href=https://www.andyibanez.com/><img class=header-logo-circle src=https://www.andyibanez.com/img/andy_profile.png alt="Andy Ibanez logo"></a></div><div class=header-title><a href=https://www.andyibanez.com/>Andy Ibanez</a></div></div></div></header><nav><div class=container><div class=main-navigation><a href=/about/>About Me</a><a href=/posts/>Blog</a><a href=/projects/>Projects</a><a href=/tags/>Tags</a><a href=/contact/>Contact</a><a href=/privacy-policy/>Privacy policy</a></div></div></nav><div class=container><div class=search><input type=text id=searchInput placeholder="Type here to search"></div><div class="container search-results-container" hidden=true><div id=searchResults class=search-results></div></div></div><main><div class=container><article><h1 class=title>Filtering Arrays with Predicates</h1><p class=publish>Published on
<time class=post-date datetime=2019-10-16T07:00:00-04:00>October 16, 2019</time></p><p>Whether you have been programming for a while or are new at it, chances are you have had the need to search for results in an array. And while Apple&rsquo;s SDKs for iOS, macOS, iPadOS, and watchOS all use Foundation and have a set of handy tools to make that task easier, there is one particular API that is very powerful but doesn&rsquo;t get much use unless you pair with other frameworks such as Core Data: NSPredicate.</p><p><a href=https://developer.apple.com/documentation/foundation/nspredicate><code>NSPredicate</code></a> is a definition of logical conditions you can use to search and filter information in certain APIs. It lets you define conditions to search for something while using an object&rsquo;s properties. Internally, the API uses key-value coding to work, so your Swift objects must be compatible with Objective-C.</p><h1 id=introduction-to-nspredicate>Introduction to NSPredicate</h1><p>NSPredicate allows you to perform searches and filtering writing conditions like the following:</p><ul><li>A person&rsquo;s salary is equal to 5000, less than 3000, more than 4000, and so on.</li><li>A person&rsquo;s last name is a certain last name.</li><li>A person&rsquo;s last name is LIKE (similar) to another last name.</li><li>A text begins with a certain string.</li><li>Date in a range.</li></ul><p>And to make it even more interesting, you can even perform aggregate operations such as the sum of a certain property in an array, the average, and so on.</p><p>There&rsquo;s some subclasses of this class you can use, but you can also use it as-is. <a href=https://developer.apple.com/documentation/foundation/nscomparisonpredicate><code>NSComparisonPredicate</code></a> can be used to compare the results of two expressions, and <a href=https://developer.apple.com/documentation/foundation/nscompoundpredicate><code>NSCompoundPredicate</code></a> can be used to join two predicates together to create logical &ldquo;and&rdquo;, &ldquo;or&rdquo;, and &ldquo;not&rdquo; searches and filtering.</p><p>In this article we will explore <code>NSPredicate</code> and <code>NSCompoundPredicate</code> and how you can use them to search in NSArrays. You can later apply these concepts for other frameworks such as Core Data.</p><h1 id=downsides-and-quirks>Downsides and Quirks.</h1><p>Before we get to work, though, I need to mention that <code>NSPredicates</code> rely heavily in Objective-C&rsquo;s features, so when we work on it with Swift, we lose some features such as type safety and we need to do a bit of casting. That said, this extra work is nothing considering all that you get back from them.</p><h2 id=using-nspredicate>Using NSPredicate</h2><p>Our objects must work with Objective-C, specially it&rsquo;s Key-Value Coding features. We will write NSPredicate examples using these two classes:</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span>@objcMembers <span style=color:#f38ba8>class</span> <span style=color:#f9e2af>Job</span>: NSObject {
</span></span><span style=display:flex><span>  <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>company</span>: <span style=color:#89dceb>String</span>
</span></span><span style=display:flex><span>  <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>salary</span>: <span style=color:#89dceb>Float</span>
</span></span><span style=display:flex><span>  <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>title</span>: <span style=color:#89dceb>String</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#f38ba8>init</span>(company: <span style=color:#89dceb>String</span>, salary: <span style=color:#89dceb>Float</span>, title: <span style=color:#89dceb>String</span>) {
</span></span><span style=display:flex><span>    <span style=color:#fab387>self</span>.company = company
</span></span><span style=display:flex><span>    <span style=color:#fab387>self</span>.salary = salary
</span></span><span style=display:flex><span>    <span style=color:#fab387>self</span>.title = title
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>@objcMembers <span style=color:#f38ba8>class</span> <span style=color:#f9e2af>Person</span>: NSObject {
</span></span><span style=display:flex><span>  <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>firstName</span>: <span style=color:#89dceb>String</span>
</span></span><span style=display:flex><span>  <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>lastName</span>: <span style=color:#89dceb>String</span>
</span></span><span style=display:flex><span>  <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>job</span>: Job
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#f38ba8>var</span> <span style=color:#f5e0dc>fullName</span>: <span style=color:#89dceb>String</span> {
</span></span><span style=display:flex><span>    <span style=color:#cba6f7>get</span> {
</span></span><span style=display:flex><span>      <span style=color:#cba6f7>return</span> <span style=color:#a6e3a1>&#34;</span><span style=color:#a6e3a1>\(</span>firstName<span style=color:#a6e3a1>)</span><span style=color:#a6e3a1> </span><span style=color:#a6e3a1>\(</span>lastName<span style=color:#a6e3a1>)</span><span style=color:#a6e3a1>&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#f38ba8>init</span>(firstName: <span style=color:#89dceb>String</span>, lastName: <span style=color:#89dceb>String</span>, job: Job) {
</span></span><span style=display:flex><span>    <span style=color:#fab387>self</span>.firstName = firstName
</span></span><span style=display:flex><span>    <span style=color:#fab387>self</span>.lastName = lastName
</span></span><span style=display:flex><span>    <span style=color:#fab387>self</span>.job = job
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>In order to make them available to Objective-C, we need to mark them as <code>objcMembers</code>, and to get the KVC features, we need them to inherit from <code>NSObject</code>.</p><p>Then we will use an array that stores <code>Person</code> objects, where each person has a <code>Job</code>.</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>people</span> = [
</span></span><span style=display:flex><span>  Person(firstName: <span style=color:#a6e3a1>&#34;Andy&#34;</span>, lastName: <span style=color:#a6e3a1>&#34;Ibanez&#34;</span>, job:
</span></span><span style=display:flex><span>    Job(company: <span style=color:#a6e3a1>&#34;Fairese&#34;</span>, salary: <span style=color:#fab387>5000</span>, title: <span style=color:#a6e3a1>&#34;CEO&#34;</span>)),
</span></span><span style=display:flex><span>  Person(firstName: <span style=color:#a6e3a1>&#34;Sakura&#34;</span>, lastName: <span style=color:#a6e3a1>&#34;Kinomoto&#34;</span>, job:
</span></span><span style=display:flex><span>    Job(company: <span style=color:#a6e3a1>&#34;Tomoeda Gakkou&#34;</span>, salary: <span style=color:#fab387>4000</span>, title: <span style=color:#a6e3a1>&#34;Card Captor&#34;</span>)),
</span></span><span style=display:flex><span>  Person(firstName: <span style=color:#a6e3a1>&#34;Daidouji&#34;</span>, lastName: <span style=color:#a6e3a1>&#34;Tomoyo&#34;</span>, job:
</span></span><span style=display:flex><span>    Job(company: <span style=color:#a6e3a1>&#34;Daidouji Group&#34;</span>, salary: <span style=color:#fab387>4000</span>, title: <span style=color:#a6e3a1>&#34;Filmmaker&#34;</span>)),
</span></span><span style=display:flex><span>  Person(firstName: <span style=color:#a6e3a1>&#34;Nae&#34;</span>, lastName: <span style=color:#a6e3a1>&#34;Kinomoto&#34;</span>, job:
</span></span><span style=display:flex><span>    Job(company: <span style=color:#a6e3a1>&#34;Animal Group&#34;</span>, salary: <span style=color:#fab387>3000</span>, title: <span style=color:#a6e3a1>&#34;Animal Captor&#34;</span>)),
</span></span><span style=display:flex><span>  Person(firstName: <span style=color:#a6e3a1>&#34;Tae&#34;</span>, lastName: <span style=color:#a6e3a1>&#34;Kinoshita&#34;</span>, job:
</span></span><span style=display:flex><span>    Job(company: <span style=color:#a6e3a1>&#34;Zombie, Co.&#34;</span>, salary: <span style=color:#fab387>2500</span>, title: <span style=color:#a6e3a1>&#34;Dancer&#34;</span>))
</span></span><span style=display:flex><span>]
</span></span></code></pre></div><p>Unfortunately, we can&rsquo;t use <code>NSPredicate</code> and its subclasses with a Swift array, so we need to convert it to an <code>NSArray</code>.</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>nsPeople</span> = people <span style=color:#cba6f7>as</span> NSArray
</span></span></code></pre></div><p>With all this setup done, we can write some examples.</p><h3 id=the-nspredicate-class>The NSPredicate Class</h3><p><code>NSPredicate</code> is very to use. When you create it with the <code>init(format:arguments:)</code> initializer, you pass in a string very similar to a SQL query.</p><p>Showing all the possible formats is beyond the scope of this article, but Apple provides a nice <a href=https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Predicates/Articles/pSyntax.html#//apple_ref/doc/uid/TP40001795>Predicate Format String Syntax guide</a>. We will explore the basic scenarios, as well as some neat things you can do with them.</p><h4 id=exact-string-match>Exact String Match.</h4><p>You can write predicates that simply match a string completely. You can adapt the query to make it match different case, and more.</p><p>The below code fetches all the people who have the last name <code>Kinomoto</code>:</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>lastNameKinomotoPredicate</span> = NSPredicate(format: <span style=color:#a6e3a1>&#34;lastName = %@&#34;</span>, <span style=color:#a6e3a1>&#34;Kinomoto&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>lastNameKinomoto</span> = nsPeople.filtered(using: lastNameKinomotoPredicate)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#89dceb>print</span>(<span style=color:#a6e3a1>&#34;People whose last name is Kinomoto:&#34;</span>)
</span></span><span style=display:flex><span>(lastNameKinomoto <span style=color:#cba6f7>as</span>! [Person]).forEach {
</span></span><span style=display:flex><span>  <span style=color:#89dceb>print</span>(<span style=color:#f5e0dc>$0</span>.fullName)
</span></span><span style=display:flex><span>  <span style=color:#6c7086;font-style:italic>// Prints:</span>
</span></span><span style=display:flex><span>  <span style=color:#6c7086;font-style:italic>// Sakura Kinomoto</span>
</span></span><span style=display:flex><span>  <span style=color:#6c7086;font-style:italic>// Nae Kinomoto</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Part of the downsides is we need to cast the filtered array in order to use the objects within it (or you could use Key-Value Coding yourself, but it&rsquo;s not as neat).</p><h4 id=matching-the-beginning-of-a-string>Matching The Beginning of a String</h4><p>You can match any part of a string without having to match the entirety of it. To match the beginning of the string, you use the <code>BEGINSWITH</code> keyword.</p><p>The bellow example will fetch all the people&rsquo;s whose last name begins with <code>Kino</code>.</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>lastNameBeginsKinoPredicate</span> = NSPredicate(format: <span style=color:#a6e3a1>&#34;lastName BEGINSWITH[c] %@&#34;</span>, <span style=color:#a6e3a1>&#34;Kino&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>lastNameBeginsKino</span> = nsPeople.filtered(using: lastNameBeginsKinoPredicate)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#89dceb>print</span>(<span style=color:#a6e3a1>&#34;People whose last name contains </span><span style=color:#89b4fa>\&#34;</span><span style=color:#a6e3a1>Kino</span><span style=color:#89b4fa>\&#34;</span><span style=color:#a6e3a1>:&#34;</span>)
</span></span><span style=display:flex><span>(lastNameBeginsKino <span style=color:#cba6f7>as</span>! [Person]).forEach {
</span></span><span style=display:flex><span>  <span style=color:#89dceb>print</span>(<span style=color:#f5e0dc>$0</span>.fullName)
</span></span><span style=display:flex><span>  <span style=color:#6c7086;font-style:italic>// Prints:</span>
</span></span><span style=display:flex><span>  <span style=color:#6c7086;font-style:italic>// Sakura Kinomoto</span>
</span></span><span style=display:flex><span>  <span style=color:#6c7086;font-style:italic>// Nae Kinomoto</span>
</span></span><span style=display:flex><span>  <span style=color:#6c7086;font-style:italic>// Tae Kinoshita</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=matching-properties-within-composed-objects>Matching Properties Within Composed Objects.</h4><p>All our <code>Person</code>s have a <code>Job</code>. We can find all the people who meet a certain job criteria by querying the <code>Job</code> object. We can do this using a key path (which is not the neat key path&rsquo;s we know from Swift, but they work)!</p><p>In the example bellow, we will query for all the people who work at companies who have the word <code>Group</code> in their name:</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Swift data-lang=Swift><span style=display:flex><span><span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>companyContainsGroupPredicate</span> = NSPredicate(format: <span style=color:#a6e3a1>&#34;job.company CONTAINS[c] %@&#34;</span>, <span style=color:#a6e3a1>&#34;Group&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>companyContainsGroup</span> = nsPeople.filtered(using: companyContainsGroupPredicate)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#89dceb>print</span>(<span style=color:#a6e3a1>&#34;People who work for a group:&#34;</span>)
</span></span><span style=display:flex><span>(companyContainsGroup <span style=color:#cba6f7>as</span>! [Person]).forEach {
</span></span><span style=display:flex><span>  <span style=color:#89dceb>print</span>(<span style=color:#f5e0dc>$0</span>.fullName <span style=color:#89dceb;font-weight:700>+</span> <span style=color:#a6e3a1>&#34; &#34;</span> <span style=color:#89dceb;font-weight:700>+</span> <span style=color:#a6e3a1>&#34;(</span><span style=color:#a6e3a1>\(</span><span style=color:#f5e0dc>$0</span>.job.company<span style=color:#a6e3a1>)</span><span style=color:#a6e3a1>)&#34;</span> )
</span></span><span style=display:flex><span>  <span style=color:#6c7086;font-style:italic>// Prints:</span>
</span></span><span style=display:flex><span>  <span style=color:#6c7086;font-style:italic>// Daidouji Tomoyo (Daidouji Group)</span>
</span></span><span style=display:flex><span>  <span style=color:#6c7086;font-style:italic>// Nae Kinomoto (Animal Group)</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>This one of my favorite things about NSPredicate, and you can use it to build some advanced searches.</p><h3 id=using-nscompoundpredicate>Using NSCompoundPredicate</h3><p>You can create and join predicates together using the <code>NSCompoundPredicate</code> class. This class inherits from <code>NSPredicate</code>, so you can use it everywhere a normal predicate is expected.</p><p>You can use a compound predicate to join various predicates together with &ldquo;and&rdquo;, &ldquo;or&rdquo;, and even &ldquo;not&rdquo;. You can also use other compound predicates in another compound predicate, so you can create very interesting and complex filters.</p><p>In the example below we will create a predicate that fetches all the people who earn less than 3000 and those who earn above 4000 with a <code>or</code> predicate.</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>salaryBelow3000</span> = NSPredicate(format: <span style=color:#a6e3a1>&#34;job.salary &lt; %d&#34;</span>, <span style=color:#fab387>3000</span>)
</span></span><span style=display:flex><span><span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>salaryAbove4000</span> = NSPredicate(format: <span style=color:#a6e3a1>&#34;job.salary &gt; %d&#34;</span>, <span style=color:#fab387>4000</span>)
</span></span><span style=display:flex><span><span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>salaryBelow3000AndAbove4000Predicate</span> = NSCompoundPredicate(orPredicateWithSubpredicates: [salaryBelow3000, salaryAbove4000])
</span></span><span style=display:flex><span><span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>salaryBelow3000AndAbove4000</span> = nsPeople.filtered(using: salaryBelow3000AndAbove4000Predicate)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#89dceb>print</span>(<span style=color:#a6e3a1>&#34;People who earn less than 3000 and above 4000:&#34;</span>)
</span></span><span style=display:flex><span>(salaryBelow3000AndAbove4000 <span style=color:#cba6f7>as</span>! [Person]).forEach {
</span></span><span style=display:flex><span>  <span style=color:#89dceb>print</span>(<span style=color:#f5e0dc>$0</span>.fullName <span style=color:#89dceb;font-weight:700>+</span> <span style=color:#a6e3a1>&#34; &#34;</span> <span style=color:#89dceb;font-weight:700>+</span> <span style=color:#a6e3a1>&#34;(</span><span style=color:#a6e3a1>\(</span><span style=color:#f5e0dc>$0</span>.job.salary<span style=color:#a6e3a1>)</span><span style=color:#a6e3a1>)&#34;</span>)
</span></span><span style=display:flex><span>  <span style=color:#6c7086;font-style:italic>// Prints:</span>
</span></span><span style=display:flex><span>  <span style=color:#6c7086;font-style:italic>// Andy Ibanez (5000.0)</span>
</span></span><span style=display:flex><span>  <span style=color:#6c7086;font-style:italic>// Tae Kinoshita (2500.0)</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=why-use-nspredicate>Why Use NSPredicate?</h2><p>This is a very good question, and you may be wondering since we already have a lot of powerful filtering options in Swift using the <code>filter</code> function. We can do everything we did with predicates using this function and save us the problem of making our code compatible with Objective-C and all that casting. So why?</p><p>The answer is that, not only is this great for using with Core Data (where you specify the criteria with NSPredicates) but also because it&rsquo;s much easier to allow your users to create filters for their data. Imagine you create a Contacts app that doesn&rsquo;t store its data in a database, but in plain text files that can be deserializes into arrays. You can allow your users to create filters for their contacts with any criteria they want. Of course, only use them if you have such a need. If you need to do filtering that your users are never going to see, there&rsquo;s no need to use NSPredicates with arrays.</p><h1 id=conclusion>Conclusion</h1><p>NSPredicate offer a very powerful way to search and filter array and other content, such as queries in core data. They can be as simple or complex as you need them, and their format language is similar to SQL and therefore very intuitive to use. It&rsquo;s a bit of a bummer we need to play with a lot of Objective-C code to make them to work, but if you need them, the effort is worth it.</p></article></div></main><footer><div class=container><div class=footer-navigation><a href=https://github.com/AndyIbanez><span class=inline-svg><svg viewBox="0 0 42 40" id="svg4" width="42" height="40"><path fill="currentColor" d="m14.20936 32.20794c0 .16542-.19024.29776-.4301.29776-.27295.0248-.46319-.10752-.46319-.29776.0-.16542.19024-.29776.4301-.29776.24814-.0248.46319.10752.46319.29776zm-2.57234-.3722c-.0579.16542.10753.35566.35566.40528.21505.0827.46319.0.51282-.16542.0496-.16542-.10753-.35566-.35566-.4301-.21505-.0579-.45492.0248-.51282.19024zm3.65586-.14061c-.23986.0579-.40529.21505-.38047.40528.0248.16543.23986.27295.488.21505.23986-.0579.40528-.21505.38047-.38047-.0248-.15715-.24813-.26468-.488-.23986zM20.73531-.19734273e-6C9.2632-.19734273e-6.48748 8.7095398.48748 20.18166c0 9.17273 5.77328 17.02207 14.01964 19.78464 1.05871.19024 1.43091-.46319 1.43091-1.00081.0-.51282-.0248-3.34156-.0248-5.0785.0.0-5.78982 1.24067-7.00568-2.46481.0.0-.94292-2.40691-2.29939-3.02725.0.0-1.8941-1.29857.13234-1.27376.0.0 2.05952.16542 3.19267 2.13396 1.81139 3.19267 4.84691 2.27457 6.02969 1.72868.19023-1.32339.72786-2.24149 1.32338-2.78739-4.62358-.51281-9.28852-1.18278-9.28852-9.13964.0-2.27458.62861-3.416 1.95199-4.87172-.21505-.53763-.9181-2.7543.21506-5.6161302 1.72867-.53762 5.7071 2.2332202 5.7071 2.2332202 1.65424-.46319 3.43254-.70305 5.1943-.70305 1.76176.0 3.54006.23986 5.1943.70305.0.0 3.97843-2.7791202 5.7071-2.2332202 1.13315 2.8701002.4301 5.0785002.21505 5.6161302 1.32339 1.46399 2.13397 2.60542 2.13397 4.87172.0 7.98168-4.87172 8.61856-9.49531 9.13964.76095.65342 1.4061 1.8941 1.4061 3.83782.0 2.78739-.0248 6.23647-.0248 6.9147.0.53763.38047 1.19105 1.43091 1.00082 8.27117-2.74603 13.87903-10.59537 13.87903-19.7681C41.51252 8.7095398 32.20745-.19734273e-6 20.73533-.19734273e-6zM8.52706 28.52727c-.10752.0827-.0827.27295.0579.4301.13234.13234.32258.19024.4301.0827.10753-.0827.0827-.27295-.0579-.4301-.13233-.13234-.32257-.19024-.4301-.0827zM7.63378 27.8573c-.0579.10753.0248.23987.19023.32258.13234.0827.29777.0579.35566-.0579C8.23757 28.01446 8.15487 27.88212 7.98944 27.7994 7.82401 27.7498 7.69168 27.7746 7.63378 27.8573zm2.67986 2.94454c-.13234.10753-.0827.35566.10752.51281.19024.19024.4301.21505.53763.0827.10752-.10752.0579-.35566-.10753-.51281-.18196-.19024-.4301-.21505-.53762-.0827zM9.37072 29.58598c-.13234.0827-.13234.29776.0.488.13234.19023.35566.27295.46319.19023.13234-.10752.13234-.32257.0-.51281-.1158-.19024-.33085-.27295-.46319-.16542z" id="path2" style="stroke-width:.08271171"/></svg>
</span></a><a href=https://x.com/AndyIbanezK><span class=inline-svg><svg viewBox="0 0 50 40" id="svg4" width="50" height="40"><path fill="currentColor" d="m44.56253 9.96871c.0313.43748.0313.87506.0313 1.31254C44.59383 24.62494 34.43764 40 15.87508 40 10.1563 40 4.84383 38.34368.37506 35.4688c.81253.0937 1.5937.12495 2.4375.12495 4.71867.0 9.06249-1.5937 12.53125-4.31245-4.43751-.0938-8.15627-3.00003-9.43754-7.00006.62505.0937 1.25001.15622 1.90632.15622.90622.0 1.81254-.12505 2.65624-.34369C5.84384 23.15619 2.37498 19.09373 2.37498 14.18748v-.12495c1.3437.75 2.90633 1.21875 4.56246 1.28117-2.71876-1.81253-4.49993-4.90624-4.49993-8.40627.0-1.87497.4999-3.59372 1.37496-5.09373 4.96877 6.125 12.43756 10.12493 20.81248 10.56251-.15622-.75001-.25-1.53118-.25-2.31245C24.37495 4.5312 28.87498.0 34.46871.0c2.90623.0 5.53121 1.21875 7.37501 3.1875 2.28118-.43748 4.46867-1.28127 6.40626-2.43749-.75011 2.3438-2.34381 4.31255-4.43751 5.56246 2.03127-.21864 4.00003-.78126 5.81247-1.56244-1.37477 1.99992-3.09362 3.7811-5.06237 5.21868z" id="path2" style="stroke-width:.09619153"/></svg>
</span></a><a href=https://www.linkedin.com/in/andyibanez/><span class=inline-svg><svg viewBox="0 0 41 40" id="svg4" width="41" height="40"><path fill="currentColor" d="M9.45332 40H1.16028V13.29405H9.45332zM5.30234 9.65111c-2.65185.0-4.80279-2.19648-4.80279-4.84832a4.80279 4.80279.0 019.60558.0c0 2.65184-2.15184 4.84832-4.80279 4.84832zM40.49152 40H32.21633V26.99971c0-3.09828-.0625-7.07159-4.3117-7.07159-4.3117.0-4.97243 3.36615-4.97243 6.84837V40H14.64808V13.29405h7.95375v3.64294h.11608c1.10716-2.09827 3.81169-4.3126 7.8466-4.3126 8.39304.0 9.93594 5.52691 9.93594 12.70564V40z" id="path2" style="stroke-width:.08928771"/></svg>
</span></a><a href=https://www.andyibanez.com/blog/index.xml><span class=inline-svg><svg viewBox="0 0 40 40" id="svg4" width="40" height="40"><path fill="currentColor" d="m11.435816 34.282008c0 3.15793-2.5599899 5.71793-5.7179299 5.71793s-5.717840022654-2.56-5.717840022654-5.71793c0-3.15794 2.559990022654-5.71793 5.717930022654-5.71793s5.7178399 2.56008 5.7178399 5.71793zm15.68388 4.21873C26.373806 24.697208 15.317496 13.626978 1.4992361 12.880288.68361608 12.836188.46077346e-4 13.491538.46077346e-4 14.308318v4.29186c0 .75134.579460002654 1.38142 1.329190022654 1.43017 9.9849699.65036 17.9886099 8.63408 18.6402999 18.6403.0488.74973.67893 1.3292 1.43018 1.3292h4.29186c.81687 9e-5 1.47223-.68348 1.42812-1.49911zm12.87933.0257C39.249566 17.649718 22.452206.754048 1.4735261.00092799867.66727608-.027972.46077346e-4.623338.46077346e-4 1.430038v4.29177c0 .77008.610270002654 1.39687 1.379730022654 1.42848 17.0694999.6999 30.7701699 14.40316 31.4699899 31.46999.0315.76946.6583 1.37972 1.42848 1.37972h4.29177c.8066-8e-5 1.45794-.66731 1.42901-1.47356z" id="path2" style="stroke-width:.08928544"/></svg>
</span></a><a href=https://www.andyibanez.com/curriculum/><span class=inline-svg><svg viewBox="0 0 15680 20480" id="svg4" width="35" height="40"><path fill="currentColor" d="M11655.83 12824.48 7840.0001 16640.464 4024.17 12824.48c-2859.863 123.906-5143.7701 2463.775-5143.7701 5352.003v384.005c0 1059.853 859.96601 1919.512 1919.92167 1919.512H14879.678c1059.956.0 1919.922-859.659 1919.922-1919.512v-384.005c0-2888.228-2283.906-5228.097-5143.77-5352.003zM-575.64445 3193.1279l256.0032 59.9048v2335.7732c-279.9651 167.9381-479.9548 459.7818-479.9548 812.0422.0 335.8762 183.9639 615.9437 443.96075 787.9778l-623.9822 2491.9352c-67.9944 275.9716 84.02025 559.6229 303.9782 559.6229H996.31762c219.95798.0 371.97268-283.6513 303.97828-559.6229L676.31362 7188.8259c259.99685-172.0341 443.96078-452.1016 443.96078-787.9778.0-352.2604-199.98973-644.1041-479.95483-812.0422V3484.9716l2639.90503 635.9119c-344.0171 688.1366-559.9814 1456.1463-559.9814 2279.9646.0 2827.8113 2291.8942 5119.5519 5119.7569 5119.5519 2827.8619.0 5119.7569-2291.7406 5119.7569-5119.5519.0-823.8183-211.971-1591.828-559.982-2279.9646l3851.824-927.7556c727.971-176.1302 727.971-1083.9175.0-1260.0477L8635.9653 92.929226c-519.9937-123.905551-1067.943-123.905551-1587.9367.0L-575.64445 1928.9841c-723.92585 176.1302-723.92585 1088.0136.0 1264.1438z" id="path2" style="stroke-width:39.99821472"/></svg>
</span></a><a href=https://www.andyibanez.com/contact-me><span class=inline-svg><svg viewBox="0 0 40 40" id="svg4" width="40" height="40"><path fill="currentColor" d="m39.99999 36.249999c0 2.0711-1.6789 3.75-3.74999 3.75H3.75c-2.07109.0-3.74999-1.6789-3.74999-3.75v-20.56843a3.7499996 3.7499996.0 011.43648-2.95125c1.94633-1.5257 3.55476-2.7628904 12.82812-9.4930404C15.57906 2.2789186 18.18727-.02709136 20 .00024864227 21.81234-.02745136 24.42156 2.2793086 25.73539 3.2371986c9.27242 6.72945 10.88304 7.9683604 12.82812 9.4931204a3.7499996 3.7499996.0 011.43648 2.95125zm-5.13015-15.35976c-.20024-.29125-.60156-.35898-.88586-.14898-1.78476 1.3182-4.33297 3.18008-8.24859 6.02179-1.31445.95828-3.92266 3.26414-5.73539 3.23672-1.81336.0269-4.41867-2.2768-5.73539-3.23672-3.91515-2.8414-6.46359-4.70343-8.24859-6.02179-.2843-.21-.68562-.14227-.88586.14898l-.70875 1.03094a.62484368.62484368.0 00.14367.8568c1.78805 1.32023 4.33235 3.1789 8.2268 6.00531 1.5839 1.15476 4.41593 3.73539 7.20812 3.71664 2.79094.0189 5.62195-2.56024 7.20804-3.71664 3.89453-2.82649 6.43891-4.68516 8.2268-6.00531a.62484368.62484368.0 00.14367-.8568z" id="path2" style="stroke-width:.07812498"/></svg></span></a></div></div><p class=made-with-love><a href=https://github.com/humrochagf/colordrop><b>Colordrop</b>
</a><span>theme | Made </span><span>by</span>
<a href=https://humberto.io/><b>Humberto Rocha</b></a></p></footer></div><script src=/copy/copy.js></script><script src=/search/elasticlunr.min.js></script><script src=/search/search.js></script><script>loadSearch()</script></body></html>