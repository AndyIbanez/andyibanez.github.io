<!doctype html><html prefix="og: http://ogp.me/ns#" lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,user-scalable=no"><meta http-equiv=x-ua-compatible content="ie=edge"><script async src="https://www.googletagmanager.com/gtag/js?id=G-CE7T69YX8Y"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-CE7T69YX8Y")}</script><link rel=apple-touch-icon sizes=180x180 href=https://www.andyibanez.com/favicons/apple-touch-icon-180x180.png><link rel=icon type=image/png sizes=32x32 href=https://www.andyibanez.com/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://www.andyibanez.com/favicons/favicon-16x16.png><link rel=manifest href=https://www.andyibanez.com/favicons/site.webmanifest><link rel=mask-icon href=https://www.andyibanez.com/favicons/safari-pinned-tab.svg color=#292148><meta name=msapplication-TileColor content="#292148"><meta name=msapplication-config content="https://www.andyibanez.com/favicons/browserconfig.xml"><meta name=theme-color content="#292148"><link rel=canonical href=https://www.andyibanez.com/posts/swift-print-in-depth/><link rel=alternate hreflang=en href=https://www.andyibanez.com/posts/swift-print-in-depth/ title><meta name=description content="A blog where I write about the stuff that interests me and the knowledge I‚Äôve picked up over the years. Expect a lot of iOS development content, along with scripting, automation, and the occasional side topic."><meta name=author content><meta name=theme-color content="#292148"><meta itemprop=name content="Swift's print in Depth"><meta itemprop=description content="Ah, print. Probably the most known, the most used, the most popular debugging tool, and probably the most loved line of code of all time. You have undoubtedly used print before, if not in Swift, in other languages. The vast majority of programmers have started their software building skills with a print or equivalent somewhere.
We have all used print before, but this short article is about using the function to the max - it actually has a secret or two you might not know about."><meta itemprop=datePublished content="2021-04-28T07:00:00-04:00"><meta itemprop=dateModified content="2021-04-28T07:00:00-04:00"><meta itemprop=wordCount content="1052"><meta itemprop=keywords content="swift,apple,programming"><meta property="og:url" content="https://www.andyibanez.com/posts/swift-print-in-depth/"><meta property="og:site_name" content="Andy Ibanez"><meta property="og:title" content="Swift's print in Depth"><meta property="og:description" content="Ah, print. Probably the most known, the most used, the most popular debugging tool, and probably the most loved line of code of all time. You have undoubtedly used print before, if not in Swift, in other languages. The vast majority of programmers have started their software building skills with a print or equivalent somewhere.
We have all used print before, but this short article is about using the function to the max - it actually has a secret or two you might not know about."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-04-28T07:00:00-04:00"><meta property="article:modified_time" content="2021-04-28T07:00:00-04:00"><meta property="article:tag" content="Swift"><meta property="article:tag" content="Apple"><meta property="article:tag" content="Programming"><meta name=twitter:card content="summary"><meta name=twitter:title content="Swift's print in Depth"><meta name=twitter:description content="Ah, print. Probably the most known, the most used, the most popular debugging tool, and probably the most loved line of code of all time. You have undoubtedly used print before, if not in Swift, in other languages. The vast majority of programmers have started their software building skills with a print or equivalent somewhere.
We have all used print before, but this short article is about using the function to the max - it actually has a secret or two you might not know about."><meta name=twitter:creator content="@"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","url":"https://www.andyibanez.com/posts/swift-print-in-depth/","headline":"Swift&#39;s print in Depth","description":"","datePublished":"2021-04-28","keywords":"swift,apple,programming","author":{"@type":"Person","name":""}}</script><title>Swift's print in Depth - Andy Ibanez</title><link rel=stylesheet href=https://www.andyibanez.com/style.main.min.18f604b90ed15864d7faa967f1ef9eacb99e1c967eff38762ec29b7bf1ab5876.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-CE7T69YX8Y"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-CE7T69YX8Y")}</script></head><body><div class=wrapper><nav><div class=container><div class=language-selector></div></div></nav><header><div class=container><div class=header-group><div class=header-logo-container><a class=header-logo-link href=https://www.andyibanez.com/><img class=header-logo-circle src=https://www.andyibanez.com/img/andy_profile.png alt="Andy Ibanez logo"></a></div><div class=header-title><a href=https://www.andyibanez.com/>Andy Ibanez</a></div></div></div></header><nav><div class=container><div class=main-navigation><a href=/about/>About Me</a><a href=/posts/>Blog</a><a href=/projects/>Projects</a><a href=/tags/>Tags</a><a href=/contact/>Contact</a><a href=/privacy-policy/>Privacy policy</a></div></div></nav><div class=container><div class=search><input type=text id=searchInput placeholder="Type here to search"></div><div class="container search-results-container" hidden=true><div id=searchResults class=search-results></div></div></div><main><div class=container><article><h1 class=title>Swift's print in Depth</h1><p class=publish>Published on
<time class=post-date datetime=2021-04-28T07:00:00-04:00>April 28, 2021</time></p><p>Ah, <code>print</code>. Probably the most known, the most used, the most popular debugging tool, and probably the most loved line of code of all time. You have undoubtedly used print before, if not in Swift, in other languages. The vast majority of programmers have started their software building skills with a <code>print</code> or equivalent somewhere.</p><p>We have all used <code>print</code> before, but this short article is about using the function to the max - it actually has a secret or two you might not know about.</p><p>Note this article is about <code>print</code> - There are actually other useful functions for printing text in Swift (such as <code>debugPrint</code>), but this article is not about them.</p><h1 id=custom-separators-and-terminators>Custom Separators and Terminators</h1><p>The first small thing you can do with <code>print</code> is to change the default separators and terminators.</p><h2 id=separator>Separator</h2><p>In case you haven&rsquo;t noticed, <code>print</code> takes a variable number of parameters as its first argument. You can use it to print multiple objects at once. For example:</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#89dceb>print</span>(<span style=color:#fab387>1</span>, <span style=color:#fab387>2</span>, <span style=color:#fab387>3</span>, <span style=color:#fab387>4</span>)
</span></span><span style=display:flex><span><span style=color:#6c7086;font-style:italic>// prints</span>
</span></span><span style=display:flex><span><span style=color:#6c7086;font-style:italic>// 1 2 3 4</span>
</span></span></code></pre></div><p>By default, the separator is an empty space, but you can customize it to be anything else.</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#89dceb>print</span>(<span style=color:#fab387>1</span>, <span style=color:#fab387>2</span>, <span style=color:#fab387>3</span>, <span style=color:#fab387>4</span>, separator: <span style=color:#a6e3a1>&#34;,&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#6c7086;font-style:italic>// prints</span>
</span></span><span style=display:flex><span><span style=color:#6c7086;font-style:italic>// 1,2,3,4</span>
</span></span></code></pre></div><p>Changing the separator can be useful, as we will see later on.</p><h2 id=terminators>Terminators</h2><p>By default, when <code>print</code> is done printing your text, it will append a newline character to each line, so further <code>print</code> sequences start on their own line.</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#89dceb>print</span>(<span style=color:#fab387>1</span>, <span style=color:#fab387>2</span>, <span style=color:#fab387>3</span>, <span style=color:#fab387>4</span>)
</span></span><span style=display:flex><span><span style=color:#89dceb>print</span>(<span style=color:#fab387>5</span>, <span style=color:#fab387>6</span>, <span style=color:#fab387>7</span>, <span style=color:#fab387>8</span>)
</span></span></code></pre></div><p>This will print:</p><pre tabindex=0><code>1 2 3 4
5 6 7 8
</code></pre><p>We can provide any terminator we want:</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#89dceb>print</span>(<span style=color:#fab387>1</span>, <span style=color:#fab387>2</span>, <span style=color:#fab387>3</span>, <span style=color:#fab387>4</span>, terminator: <span style=color:#a6e3a1>&#34;|&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#89dceb>print</span>(<span style=color:#fab387>5</span>, <span style=color:#fab387>6</span>, <span style=color:#fab387>7</span>, <span style=color:#fab387>8</span>, terminator: <span style=color:#a6e3a1>&#34;|&#34;</span>)
</span></span></code></pre></div><pre tabindex=0><code>1 2 3 4|5 6 7 8|
</code></pre><p>And of course, you can use a combination of both <code>separator</code> and <code>terminator</code>.</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#89dceb>print</span>(<span style=color:#fab387>1</span>, <span style=color:#fab387>2</span>, <span style=color:#fab387>3</span>, <span style=color:#fab387>4</span>, separator: <span style=color:#a6e3a1>&#34;,&#34;</span>, terminator: <span style=color:#a6e3a1>&#34;|&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#89dceb>print</span>(<span style=color:#fab387>5</span>, <span style=color:#fab387>6</span>, <span style=color:#fab387>7</span>, <span style=color:#fab387>8</span>, separator: <span style=color:#a6e3a1>&#34;,&#34;</span>, terminator: <span style=color:#a6e3a1>&#34;|&#34;</span>)
</span></span></code></pre></div><pre tabindex=0><code>1,2,3,4|5,6,7,8|
</code></pre><h1 id=redirecting-output-with-the-output-parameter>Redirecting Output with the output: parameter</h1><p>The last thing I want to tell you about is probably my favorite <code>print</code> feature. By default, <code>print</code> sends all its output to the standard output, which is going to be Xcode&rsquo;s console most of the time. But that doesn&rsquo;t stop us from changing this and printing somewhere else. The last optional parameter we can pass in to <code>print</code>, is <code>to output:</code>, which is an <code>inout</code> parameter of an object that conforms to <code>TextOutputStream</code>.</p><p><code>TextOutputStream</code> has a single requirement you need to implement:</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span>    <span style=color:#cba6f7>mutating</span> <span style=color:#f38ba8>func</span> <span style=color:#89b4fa>write</span>(<span style=color:#fab387>_</span> string: <span style=color:#89dceb>String</span>) {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    }
</span></span></code></pre></div><p>As you can see, we need to implement a <code>mutating func</code> that will give us a string.</p><p>This is interesting, because there is actually a lot we can do here. you can continue sending text to the standard output after mutating it here (by simply calling print again), or you can redirect the output somewhere entirely different.</p><p>To show you content mutation, I will reuse the <code>EmojiFormatter</code> I wrote for my <a href=/posts/writing-custom-nsformatters-swift/>Writing Custom NSFormatters in Swift</a> article. This formatter will find ASCII emoticons and convert them into emojis. For example, <code>:-)</code> will get converted into <code>üôÇ</code>.</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#f38ba8>class</span> <span style=color:#f9e2af>EmojiFormatter</span>: Formatter {
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#6c7086;font-style:italic>// </span><span style=color:#6c7086;font-style:italic>MARK:</span><span style=color:#6c7086;font-style:italic> - User facing methods</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#f38ba8>public</span> <span style=color:#f38ba8>func</span> <span style=color:#89b4fa>rawString</span>(<span style=color:#cba6f7>for</span> emojiString: <span style=color:#89dceb>String</span>) -&gt; <span style=color:#89dceb>String</span>? {
</span></span><span style=display:flex><span>        <span style=color:#f38ba8>var</span> <span style=color:#f5e0dc>formattedEmojiStringContainer</span>: <span style=color:#89dceb>AnyObject</span>?
</span></span><span style=display:flex><span>        getObjectValue(&amp;formattedEmojiStringContainer, <span style=color:#cba6f7>for</span>: emojiString, errorDescription: <span style=color:#fab387>nil</span>)
</span></span><span style=display:flex><span>        <span style=color:#cba6f7>return</span> formattedEmojiStringContainer <span style=color:#cba6f7>as</span>? <span style=color:#89dceb>String</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#6c7086;font-style:italic>// </span><span style=color:#6c7086;font-style:italic>MARK:</span><span style=color:#6c7086;font-style:italic> - Emoji Mapping</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>emojiMapping</span> = [
</span></span><span style=display:flex><span>        <span style=color:#a6e3a1>&#34;:-)&#34;</span>: <span style=color:#a6e3a1>&#34;üôÇ&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e3a1>&#34;:-|&#34;</span>: <span style=color:#a6e3a1>&#34;üòê&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e3a1>&#34;:-(&#34;</span>: <span style=color:#a6e3a1>&#34;‚òπÔ∏è&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e3a1>&#34;;-(&#34;</span>: <span style=color:#a6e3a1>&#34;üò¢&#34;</span>
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#f38ba8>func</span> <span style=color:#89b4fa>replaceAsciiWithEmoji</span>(<span style=color:#cba6f7>in</span> string: <span style=color:#89dceb>String</span>) -&gt; <span style=color:#89dceb>String</span> {
</span></span><span style=display:flex><span>        <span style=color:#f38ba8>var</span> <span style=color:#f5e0dc>rawString</span> = string
</span></span><span style=display:flex><span>        emojiMapping.forEach {
</span></span><span style=display:flex><span>            rawString = rawString.replacingOccurrences(of: <span style=color:#f5e0dc>$0</span>, with: <span style=color:#f5e0dc>$1</span>)
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#cba6f7>return</span> rawString
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#f38ba8>func</span> <span style=color:#89b4fa>replaceEmojiWithAscii</span>(<span style=color:#cba6f7>in</span> string: <span style=color:#89dceb>String</span>) -&gt; <span style=color:#89dceb>String</span> {
</span></span><span style=display:flex><span>        <span style=color:#f38ba8>var</span> <span style=color:#f5e0dc>rawString</span> = string
</span></span><span style=display:flex><span>        emojiMapping.forEach {
</span></span><span style=display:flex><span>            rawString = rawString.replacingOccurrences(of: <span style=color:#f5e0dc>$1</span>, with: <span style=color:#f5e0dc>$0</span>)
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#cba6f7>return</span> rawString
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#6c7086;font-style:italic>// </span><span style=color:#6c7086;font-style:italic>MARK:</span><span style=color:#6c7086;font-style:italic> - Overriden methods</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#cba6f7>override</span> <span style=color:#f38ba8>func</span> <span style=color:#89b4fa>string</span>(<span style=color:#cba6f7>for</span> obj: <span style=color:#89dceb>Any</span>?) -&gt; <span style=color:#89dceb>String</span>? {
</span></span><span style=display:flex><span>        <span style=color:#cba6f7>if</span> <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>string</span> = obj <span style=color:#cba6f7>as</span>? <span style=color:#89dceb>String</span> {
</span></span><span style=display:flex><span>            <span style=color:#cba6f7>return</span> replaceAsciiWithEmoji(<span style=color:#cba6f7>in</span>: string)
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#cba6f7>return</span> <span style=color:#fab387>nil</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#cba6f7>override</span> <span style=color:#f38ba8>func</span> <span style=color:#89b4fa>getObjectValue</span>(<span style=color:#fab387>_</span> obj: <span style=color:#89dceb>AutoreleasingUnsafeMutablePointer</span>&lt;<span style=color:#89dceb>AnyObject</span>?<span style=color:#89dceb;font-weight:700>&gt;?</span>, <span style=color:#cba6f7>for</span> string: <span style=color:#89dceb>String</span>, errorDescription error: <span style=color:#89dceb>AutoreleasingUnsafeMutablePointer</span>&lt;NSString?<span style=color:#89dceb;font-weight:700>&gt;?</span>) -&gt; <span style=color:#89dceb>Bool</span> {
</span></span><span style=display:flex><span>        obj?.pointee = replaceEmojiWithAscii(<span style=color:#cba6f7>in</span>: string) <span style=color:#cba6f7>as</span> <span style=color:#89dceb>AnyObject</span>
</span></span><span style=display:flex><span>        <span style=color:#cba6f7>return</span> <span style=color:#fab387>true</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>We will now create a simple <code>TextOutputStream</code> that will mutate our strings, replace some emojis and print them into the standard output:</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#f38ba8>struct</span> <span style=color:#f9e2af>EmojiLogger</span>: TextOutputStream {
</span></span><span style=display:flex><span>    <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>formatter</span> = EmojiFormatter()
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#cba6f7>mutating</span> <span style=color:#f38ba8>func</span> <span style=color:#89b4fa>write</span>(<span style=color:#fab387>_</span> string: <span style=color:#89dceb>String</span>) {
</span></span><span style=display:flex><span>        <span style=color:#89dceb>print</span>(formatter.string(<span style=color:#cba6f7>for</span>: string)<span style=color:#89dceb;font-weight:700>!</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f38ba8>var</span> <span style=color:#f5e0dc>logger</span> = EmojiLogger()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#89dceb>print</span>(<span style=color:#a6e3a1>&#34;Hi, I&#39;m happy to meet you :-)&#34;</span>, to: &amp;logger)
</span></span></code></pre></div><p>This will print:</p><pre tabindex=0><code>Hi, I&#39;m happy to meet you üôÇ
</code></pre><p>Of course, the true power of this is lies in the fact that we can make it do something entirely different. We could, for example, create a simple logging functionality where everything we print will be recorded on a file on disk.</p><p>To show you how this is done, I took a <a href=https://stackoverflow.com/a/58697135/648767>Logger class</a> from StackOverflow (always take precautions when using third party code in your projects), and we are now going to integrate it into a <code>FileLogger</code>.</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#f38ba8>class</span> <span style=color:#f9e2af>Logger</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f38ba8>static</span> <span style=color:#f38ba8>var</span> <span style=color:#f5e0dc>logFile</span>: URL? {
</span></span><span style=display:flex><span>        <span style=color:#cba6f7>guard</span> <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>documentsDirectory</span> = FileManager.<span style=color:#cba6f7>default</span>.urls(<span style=color:#cba6f7>for</span>: .documentDirectory, <span style=color:#cba6f7>in</span>: .userDomainMask).<span style=color:#89dceb>first</span> <span style=color:#cba6f7>else</span> { <span style=color:#cba6f7>return</span> <span style=color:#fab387>nil</span> }
</span></span><span style=display:flex><span>        <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>formatter</span> = DateFormatter()
</span></span><span style=display:flex><span>        formatter.dateFormat = <span style=color:#a6e3a1>&#34;dd-MM-yyyy&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>dateString</span> = formatter.string(from: Date())
</span></span><span style=display:flex><span>        <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>fileName</span> = <span style=color:#a6e3a1>&#34;</span><span style=color:#a6e3a1>\(</span>dateString<span style=color:#a6e3a1>)</span><span style=color:#a6e3a1>.log&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#cba6f7>return</span> documentsDirectory.appendingPathComponent(fileName)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f38ba8>static</span> <span style=color:#f38ba8>func</span> <span style=color:#89b4fa>log</span>(<span style=color:#fab387>_</span> message: <span style=color:#89dceb>String</span>) {
</span></span><span style=display:flex><span>        <span style=color:#cba6f7>guard</span> <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>logFile</span> = logFile <span style=color:#cba6f7>else</span> {
</span></span><span style=display:flex><span>            <span style=color:#cba6f7>return</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>formatter</span> = DateFormatter()
</span></span><span style=display:flex><span>        formatter.dateFormat = <span style=color:#a6e3a1>&#34;HH:mm:ss&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>timestamp</span> = formatter.string(from: Date())
</span></span><span style=display:flex><span>        <span style=color:#cba6f7>guard</span> <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>data</span> = (timestamp <span style=color:#89dceb;font-weight:700>+</span> <span style=color:#a6e3a1>&#34;: &#34;</span> <span style=color:#89dceb;font-weight:700>+</span> message <span style=color:#89dceb;font-weight:700>+</span> <span style=color:#a6e3a1>&#34;</span><span style=color:#89b4fa>\n</span><span style=color:#a6e3a1>&#34;</span>).data(using: <span style=color:#89dceb>String</span>.Encoding.utf8) <span style=color:#cba6f7>else</span> { <span style=color:#cba6f7>return</span> }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#cba6f7>if</span> FileManager.<span style=color:#cba6f7>default</span>.fileExists(atPath: logFile.path) {
</span></span><span style=display:flex><span>            <span style=color:#cba6f7>if</span> <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>fileHandle</span> = <span style=color:#cba6f7>try</span>? FileHandle(forWritingTo: logFile) {
</span></span><span style=display:flex><span>                fileHandle.seekToEndOfFile()
</span></span><span style=display:flex><span>                fileHandle.write(data)
</span></span><span style=display:flex><span>                fileHandle.closeFile()
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        } <span style=color:#cba6f7>else</span> {
</span></span><span style=display:flex><span>            <span style=color:#cba6f7>try</span>? data.write(to: logFile, options: .atomicWrite)
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>The <code>FileHandler</code> implementation now looks like this:</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#f38ba8>struct</span> <span style=color:#f9e2af>FileLogger</span>: TextOutputStream {
</span></span><span style=display:flex><span>    <span style=color:#f38ba8>func</span> <span style=color:#89b4fa>write</span>(<span style=color:#fab387>_</span> string: <span style=color:#89dceb>String</span>) {
</span></span><span style=display:flex><span>        Logger.log(string)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f38ba8>var</span> <span style=color:#f5e0dc>logger</span> = FileLogger()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#89dceb>print</span>(<span style=color:#a6e3a1>&#34;This is getting written to a file.&#34;</span>, to: &amp;logger)
</span></span></code></pre></div><p>The first thing you will notice is that once we run this, it will not print anything to the console. This is because, this time, we are <em>redirecting</em> the output of text to a completely different place. This is really neat, as it allows you to create custom print functions that you can choose where to send their output to, whether you want to keep default console printing on, and more.</p><h1 id=conclusion>Conclusion</h1><p><code>print</code> can be more powerful than we give it credit here. It having a native way to let us customize or completely redirect output is nothing short of amazing. Using <code>TextOutputStream</code>, we can customize many aspects about our <code>print</code> calls.</p></article></div></main><footer><div class=container><div class=footer-navigation><a href=https://github.com/AndyIbanez><span class=inline-svg><svg viewBox="0 0 42 40" id="svg4" width="42" height="40"><path fill="currentColor" d="m14.20936 32.20794c0 .16542-.19024.29776-.4301.29776-.27295.0248-.46319-.10752-.46319-.29776.0-.16542.19024-.29776.4301-.29776.24814-.0248.46319.10752.46319.29776zm-2.57234-.3722c-.0579.16542.10753.35566.35566.40528.21505.0827.46319.0.51282-.16542.0496-.16542-.10753-.35566-.35566-.4301-.21505-.0579-.45492.0248-.51282.19024zm3.65586-.14061c-.23986.0579-.40529.21505-.38047.40528.0248.16543.23986.27295.488.21505.23986-.0579.40528-.21505.38047-.38047-.0248-.15715-.24813-.26468-.488-.23986zM20.73531-.19734273e-6C9.2632-.19734273e-6.48748 8.7095398.48748 20.18166c0 9.17273 5.77328 17.02207 14.01964 19.78464 1.05871.19024 1.43091-.46319 1.43091-1.00081.0-.51282-.0248-3.34156-.0248-5.0785.0.0-5.78982 1.24067-7.00568-2.46481.0.0-.94292-2.40691-2.29939-3.02725.0.0-1.8941-1.29857.13234-1.27376.0.0 2.05952.16542 3.19267 2.13396 1.81139 3.19267 4.84691 2.27457 6.02969 1.72868.19023-1.32339.72786-2.24149 1.32338-2.78739-4.62358-.51281-9.28852-1.18278-9.28852-9.13964.0-2.27458.62861-3.416 1.95199-4.87172-.21505-.53763-.9181-2.7543.21506-5.6161302 1.72867-.53762 5.7071 2.2332202 5.7071 2.2332202 1.65424-.46319 3.43254-.70305 5.1943-.70305 1.76176.0 3.54006.23986 5.1943.70305.0.0 3.97843-2.7791202 5.7071-2.2332202 1.13315 2.8701002.4301 5.0785002.21505 5.6161302 1.32339 1.46399 2.13397 2.60542 2.13397 4.87172.0 7.98168-4.87172 8.61856-9.49531 9.13964.76095.65342 1.4061 1.8941 1.4061 3.83782.0 2.78739-.0248 6.23647-.0248 6.9147.0.53763.38047 1.19105 1.43091 1.00082 8.27117-2.74603 13.87903-10.59537 13.87903-19.7681C41.51252 8.7095398 32.20745-.19734273e-6 20.73533-.19734273e-6zM8.52706 28.52727c-.10752.0827-.0827.27295.0579.4301.13234.13234.32258.19024.4301.0827.10753-.0827.0827-.27295-.0579-.4301-.13233-.13234-.32257-.19024-.4301-.0827zM7.63378 27.8573c-.0579.10753.0248.23987.19023.32258.13234.0827.29777.0579.35566-.0579C8.23757 28.01446 8.15487 27.88212 7.98944 27.7994 7.82401 27.7498 7.69168 27.7746 7.63378 27.8573zm2.67986 2.94454c-.13234.10753-.0827.35566.10752.51281.19024.19024.4301.21505.53763.0827.10752-.10752.0579-.35566-.10753-.51281-.18196-.19024-.4301-.21505-.53762-.0827zM9.37072 29.58598c-.13234.0827-.13234.29776.0.488.13234.19023.35566.27295.46319.19023.13234-.10752.13234-.32257.0-.51281-.1158-.19024-.33085-.27295-.46319-.16542z" id="path2" style="stroke-width:.08271171"/></svg>
</span></a><a href=https://x.com/AndyIbanezK><span class=inline-svg><svg viewBox="0 0 50 40" id="svg4" width="50" height="40"><path fill="currentColor" d="m44.56253 9.96871c.0313.43748.0313.87506.0313 1.31254C44.59383 24.62494 34.43764 40 15.87508 40 10.1563 40 4.84383 38.34368.37506 35.4688c.81253.0937 1.5937.12495 2.4375.12495 4.71867.0 9.06249-1.5937 12.53125-4.31245-4.43751-.0938-8.15627-3.00003-9.43754-7.00006.62505.0937 1.25001.15622 1.90632.15622.90622.0 1.81254-.12505 2.65624-.34369C5.84384 23.15619 2.37498 19.09373 2.37498 14.18748v-.12495c1.3437.75 2.90633 1.21875 4.56246 1.28117-2.71876-1.81253-4.49993-4.90624-4.49993-8.40627.0-1.87497.4999-3.59372 1.37496-5.09373 4.96877 6.125 12.43756 10.12493 20.81248 10.56251-.15622-.75001-.25-1.53118-.25-2.31245C24.37495 4.5312 28.87498.0 34.46871.0c2.90623.0 5.53121 1.21875 7.37501 3.1875 2.28118-.43748 4.46867-1.28127 6.40626-2.43749-.75011 2.3438-2.34381 4.31255-4.43751 5.56246 2.03127-.21864 4.00003-.78126 5.81247-1.56244-1.37477 1.99992-3.09362 3.7811-5.06237 5.21868z" id="path2" style="stroke-width:.09619153"/></svg>
</span></a><a href=https://www.linkedin.com/in/andyibanez/><span class=inline-svg><svg viewBox="0 0 41 40" id="svg4" width="41" height="40"><path fill="currentColor" d="M9.45332 40H1.16028V13.29405H9.45332zM5.30234 9.65111c-2.65185.0-4.80279-2.19648-4.80279-4.84832a4.80279 4.80279.0 019.60558.0c0 2.65184-2.15184 4.84832-4.80279 4.84832zM40.49152 40H32.21633V26.99971c0-3.09828-.0625-7.07159-4.3117-7.07159-4.3117.0-4.97243 3.36615-4.97243 6.84837V40H14.64808V13.29405h7.95375v3.64294h.11608c1.10716-2.09827 3.81169-4.3126 7.8466-4.3126 8.39304.0 9.93594 5.52691 9.93594 12.70564V40z" id="path2" style="stroke-width:.08928771"/></svg>
</span></a><a href=https://www.andyibanez.com/posts/index.xml><span class=inline-svg><svg viewBox="0 0 40 40" id="svg4" width="40" height="40"><path fill="currentColor" d="m11.435816 34.282008c0 3.15793-2.5599899 5.71793-5.7179299 5.71793s-5.717840022654-2.56-5.717840022654-5.71793c0-3.15794 2.559990022654-5.71793 5.717930022654-5.71793s5.7178399 2.56008 5.7178399 5.71793zm15.68388 4.21873C26.373806 24.697208 15.317496 13.626978 1.4992361 12.880288.68361608 12.836188.46077346e-4 13.491538.46077346e-4 14.308318v4.29186c0 .75134.579460002654 1.38142 1.329190022654 1.43017 9.9849699.65036 17.9886099 8.63408 18.6402999 18.6403.0488.74973.67893 1.3292 1.43018 1.3292h4.29186c.81687 9e-5 1.47223-.68348 1.42812-1.49911zm12.87933.0257C39.249566 17.649718 22.452206.754048 1.4735261.00092799867.66727608-.027972.46077346e-4.623338.46077346e-4 1.430038v4.29177c0 .77008.610270002654 1.39687 1.379730022654 1.42848 17.0694999.6999 30.7701699 14.40316 31.4699899 31.46999.0315.76946.6583 1.37972 1.42848 1.37972h4.29177c.8066-8e-5 1.45794-.66731 1.42901-1.47356z" id="path2" style="stroke-width:.08928544"/></svg>
</span></a><a href=https://www.andyibanez.com/contact><span class=inline-svg><svg viewBox="0 0 40 40" id="svg4" width="40" height="40"><path fill="currentColor" d="m39.99999 36.249999c0 2.0711-1.6789 3.75-3.74999 3.75H3.75c-2.07109.0-3.74999-1.6789-3.74999-3.75v-20.56843a3.7499996 3.7499996.0 011.43648-2.95125c1.94633-1.5257 3.55476-2.7628904 12.82812-9.4930404C15.57906 2.2789186 18.18727-.02709136 20 .00024864227 21.81234-.02745136 24.42156 2.2793086 25.73539 3.2371986c9.27242 6.72945 10.88304 7.9683604 12.82812 9.4931204a3.7499996 3.7499996.0 011.43648 2.95125zm-5.13015-15.35976c-.20024-.29125-.60156-.35898-.88586-.14898-1.78476 1.3182-4.33297 3.18008-8.24859 6.02179-1.31445.95828-3.92266 3.26414-5.73539 3.23672-1.81336.0269-4.41867-2.2768-5.73539-3.23672-3.91515-2.8414-6.46359-4.70343-8.24859-6.02179-.2843-.21-.68562-.14227-.88586.14898l-.70875 1.03094a.62484368.62484368.0 00.14367.8568c1.78805 1.32023 4.33235 3.1789 8.2268 6.00531 1.5839 1.15476 4.41593 3.73539 7.20812 3.71664 2.79094.0189 5.62195-2.56024 7.20804-3.71664 3.89453-2.82649 6.43891-4.68516 8.2268-6.00531a.62484368.62484368.0 00.14367-.8568z" id="path2" style="stroke-width:.07812498"/></svg></span></a></div></div><p class=made-with-love><a href=https://github.com/humrochagf/colordrop><b>Colordrop</b>
</a><span>theme | Made </span><span>by</span>
<a href=https://humberto.io/><b>Humberto Rocha</b></a></p></footer></div><script src=/copy/copy.js></script><script src=/search/elasticlunr.min.js></script><script src=/search/search.js></script><script>loadSearch("https://www.andyibanez.com/index.json")</script></body></html>