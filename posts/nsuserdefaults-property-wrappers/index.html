<!doctype html><html prefix="og: http://ogp.me/ns#" lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,user-scalable=no"><meta http-equiv=x-ua-compatible content="ie=edge"><script async src="https://www.googletagmanager.com/gtag/js?id=G-CE7T69YX8Y"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-CE7T69YX8Y")}</script><link rel=apple-touch-icon sizes=180x180 href=https://www.andyibanez.com/favicons/apple-touch-icon-180x180.png><link rel=icon type=image/png sizes=32x32 href=https://www.andyibanez.com/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://www.andyibanez.com/favicons/favicon-16x16.png><link rel=manifest href=https://www.andyibanez.com/favicons/site.webmanifest><link rel=mask-icon href=https://www.andyibanez.com/favicons/safari-pinned-tab.svg color=#292148><meta name=msapplication-TileColor content="#292148"><meta name=msapplication-config content="https://www.andyibanez.com/favicons/browserconfig.xml"><meta name=theme-color content="#292148"><link rel=canonical href=https://www.andyibanez.com/posts/nsuserdefaults-property-wrappers/><link rel=alternate hreflang=en href=https://www.andyibanez.com/posts/nsuserdefaults-property-wrappers/ title><meta name=description content="Learn to use and understand the Result type in Swift."><meta name=author content><meta name=theme-color content="#292148"><meta itemprop=name content="UserDefaults and Property Wrappers"><meta itemprop=description content="Learn to use and understand the Result type in Swift."><meta itemprop=datePublished content="2019-12-04T07:00:00-04:00"><meta itemprop=dateModified content="2019-12-04T07:00:00-04:00"><meta itemprop=wordCount content="1427"><meta itemprop=keywords content="swift,property wrappers,ios,tvos,ipados,watchos,wwdc2019"><meta property="og:url" content="https://www.andyibanez.com/posts/nsuserdefaults-property-wrappers/"><meta property="og:site_name" content="Andy Ibanez"><meta property="og:title" content="UserDefaults and Property Wrappers"><meta property="og:description" content="Learn to use and understand the Result type in Swift."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-12-04T07:00:00-04:00"><meta property="article:modified_time" content="2019-12-04T07:00:00-04:00"><meta property="article:tag" content="Swift"><meta property="article:tag" content="Property Wrappers"><meta property="article:tag" content="Programming"><meta property="article:tag" content="Apple"><meta property="article:tag" content="Ios"><meta property="article:tag" content="Macos"><meta name=twitter:card content="summary"><meta name=twitter:title content="UserDefaults and Property Wrappers"><meta name=twitter:description content="Learn to use and understand the Result type in Swift."><meta name=twitter:creator content="@"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","url":"https://www.andyibanez.com/posts/nsuserdefaults-property-wrappers/","headline":"UserDefaults and Property Wrappers","description":"Learn to use and understand the Result type in Swift.","datePublished":"2019-12-04","keywords":"swift,property wrappers,programming,apple,ios,macos,tvos,watchos,ipados,wwdc2019","author":{"@type":"Person","name":""}}</script><title>UserDefaults and Property Wrappers - Andy Ibanez</title><link rel=stylesheet href=https://www.andyibanez.com/style.main.min.18f604b90ed15864d7faa967f1ef9eacb99e1c967eff38762ec29b7bf1ab5876.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-CE7T69YX8Y"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-CE7T69YX8Y")}</script></head><body><div class=wrapper><nav><div class=container><div class=language-selector></div></div></nav><header><div class=container><div class=header-group><div class=header-logo-container><a class=header-logo-link href=https://www.andyibanez.com/><img class=header-logo-circle src=https://www.andyibanez.com/img/andy_profile.png alt="Andy Ibanez logo"></a></div><div class=header-title><a href=https://www.andyibanez.com/>Andy Ibanez</a></div></div></div></header><nav><div class=container><div class=main-navigation><a href=/about/>About Me</a><a href=/posts/>Blog</a><a href=/projects/>Projects</a><a href=/tags/>Tags</a><a href=/contact/>Contact</a><a href=/privacy-policy/>Privacy policy</a></div></div></nav><div class=container><div class=search><input type=text id=searchInput placeholder="Type here to search"></div><div class="container search-results-container" hidden=true><div id=searchResults class=search-results></div></div></div><main><div class=container><article><h1 class=title>UserDefaults and Property Wrappers</h1><p class=publish>Published on
<time class=post-date datetime=2019-12-04T07:00:00-04:00>December 4, 2019</time></p><hr>**Important Note**<p>Soon after I published this article, Christian Tietze wrote a fair criticism of this idea <a href=https://christiantietze.de/posts/2019/12/userdefaults-property-wrappers/>here</a>.</p><p>Once you understand how property wrappers work, you can use this article to apply it to user defaults. The main idea is that property wrappers allow you to store your values differently and even externally. That said, you may or may not want to implement this in a real app. I recommend you read this article first, and then go back to Christian&rsquo;s to see more downsides of this idea other than the ones I mentioned below.</p></hr><p>Last week we talked about Property Wrappers, what they are, and how they work with Swift. In this article, we will build upon that to write a very nice property wrapper for user settings based on <code>NSUserDefaults</code>.</p><h1 id=but-why>But Why?</h1><p>I don&rsquo;t know about you, but a pattern I see <em>a lot</em> (and I&rsquo;m guilty of doing this myself) is to just wrap all user defaults in a Singleton. This works, but singletons in general are not a pattern everyone is particularly a fan of. Singletons can grow, and it can be a pain to maintain if they have too many properties. How do you logically separate the properties? Does it even make sense to wrap a singleton around everything related to user defaults?</p><p>For this reason, people have devised different ways to deal with user defaults, and I&rsquo;m going to show you a new one.</p><h2 id=the-advantages>The Advantages</h2><p>I found more pros than cons when it comes to using wrapped properties for use defaults, including:</p><ul><li>It&rsquo;s more obvious to see what settings are relevant in different view controllers. In this architecture, we will write a property wrapper for User Defaults, and we will use it for all defaults that come to mind. This way, we can create properties that represent said setting, and then you will know what settings are relevant in different view controllers or other areas of your app. For example, suppose you have an app where you can configure a default locale, calendar type, timezone, if the app should be locked with FaceID when entering the background, and a currency type. Then you have a <code>CalendarViewController</code> where the user can see his configured locale, timezone, and calendar type. Whether the app should lock and currency types are irrelevant here. By treating them as properties, you can put them at the top of the class and the next developer who maintains the code will know what defaults are relevant for that screen:</li></ul><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#f38ba8>class</span> <span style=color:#f9e2af>CalendarViewController</span>: UIViewController {
</span></span><span style=display:flex><span>  @UserDefault(key: .calendarType) <span style=color:#f38ba8>var</span> <span style=color:#f5e0dc>calendarType</span>: <span style=color:#89dceb>String</span>
</span></span><span style=display:flex><span>  @UserDefault(key: .timezone) <span style=color:#f38ba8>var</span> <span style=color:#f5e0dc>timezone</span>: <span style=color:#89dceb>String</span>
</span></span><span style=display:flex><span>  @UserDefault(key: .locale) <span style=color:#f38ba8>var</span> <span style=color:#f5e0dc>locale</span>: <span style=color:#89dceb>String</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#6c7086;font-style:italic>//...</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>You don&rsquo;t have to maintain very large singleton files for your settings. Instead you just have to write a property wrapper file and never concern yourself with it again.</li></ul><h2 id=the-disadvantages>The Disadvantages</h2><p>There is one disadvantage that I was able to find with this method, so if you find a good way to deal with it, let me know, I&rsquo;m more than happy to hear potential ideas for this.</p><p>There is no easy way to write testable code with this. You can pass in a <code>UserDefaults</code> object to each property, but this is may not be the best idea if you are these wrapped properties in many places.</p><h1 id=property-wrappers-for-user-defaults>Property Wrappers for User Defaults</h1><p>At the end of this tutorial, we will have two different property wrappers for settings, but you will essentially write them once and do small modifications to them when necessary.</p><h2 id=the-userdefault-property-wrapper>The <code>UserDefault</code> Property Wrapper</h2><p>This property wrapper will be used to deal with standard data types supported by <code>UserDefaults</code>. In other words, it will be compatible with <code>String</code>s, <code>Int</code>s, <code>Bool</code>s, <code>Data</code>, and others that work with UserDefaults by default.</p><p>Start by writing this skeleton:</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span>@propertyWrapper
</span></span><span style=display:flex><span><span style=color:#f38ba8>struct</span> <span style=color:#f9e2af>UserDefault</span>&lt;T&gt; {
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>We want it to be generic because user defaults can store many different data types. By making it generic, it can support any data type that user defaults supports.</p><p>Then, we are going to add a few properties, and an enum:</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span>@propertyWrapper
</span></span><span style=display:flex><span><span style=color:#f38ba8>struct</span> <span style=color:#f9e2af>UserDefault</span>&lt;T&gt; {
</span></span><span style=display:flex><span>  <span style=color:#f38ba8>enum</span> <span style=color:#f9e2af>Key</span>: <span style=color:#89dceb>String</span> {
</span></span><span style=display:flex><span>    <span style=color:#cba6f7>case</span> lockOnExit = <span style=color:#a6e3a1>&#34;lock_on_exit&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#cba6f7>case</span> showImages = <span style=color:#a6e3a1>&#34;show_images&#34;</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>userDefaults</span>: UserDefaults
</span></span><span style=display:flex><span>  <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>key</span>: Key
</span></span><span style=display:flex><span>  <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>defaultValue</span>: T
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>The <code>Key</code> enum will take keys that will be used to retrieve the data from <code>UserDefaults</code> internally. You can choose to not use this and just pass in the string keys, but I prefer to have an enum because I get autocomplete and it&rsquo;s harder to make mistakes when dealing with defaults.</p><p>As for the properties, we will inject a <code>UserDefaults</code> object and we will provide one by default when the user does not specify one. The <code>key</code> property holds the key of the default we want to retrieve. Finally, we define a default value to use when the key we provided does not exist in the underlying user defaults.</p><p>Next, implement a simple initializer for the property wrapper. We will force the user to provide a key, but the default value and underlying <code>UserDefaults</code> object are optional:</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span>  <span style=color:#f38ba8>init</span>(userDefaults: UserDefaults = UserDefaults.standard,
</span></span><span style=display:flex><span>       key: Key,
</span></span><span style=display:flex><span>       defaultValue: T) {
</span></span><span style=display:flex><span>    <span style=color:#fab387>self</span>.userDefaults = userDefaults
</span></span><span style=display:flex><span>    <span style=color:#fab387>self</span>.key = key
</span></span><span style=display:flex><span>    <span style=color:#fab387>self</span>.defaultValue = defaultValue
</span></span><span style=display:flex><span>  }
</span></span></code></pre></div><p>Finally, implement the <code>wrappedValue</code> calculated property. This will do the magic of retrieving and saving data to <code>UserDefaults</code>:</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span>  <span style=color:#f38ba8>var</span> <span style=color:#f5e0dc>wrappedValue</span>: T {
</span></span><span style=display:flex><span>    <span style=color:#cba6f7>get</span> { <span style=color:#cba6f7>return</span> userDefaults.object(forKey: key.rawValue) <span style=color:#cba6f7>as</span>? T ?? defaultValue }
</span></span><span style=display:flex><span>    <span style=color:#cba6f7>set</span> { userDefaults.<span style=color:#cba6f7>set</span>(newValue, forKey: key.rawValue) }
</span></span><span style=display:flex><span>  }
</span></span></code></pre></div><p>We now have a fully functional property wrapper for standard UserDefault values. For reference, the full implementation is below:</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span>@propertyWrapper
</span></span><span style=display:flex><span><span style=color:#f38ba8>struct</span> <span style=color:#f9e2af>UserDefault</span>&lt;T&gt; {
</span></span><span style=display:flex><span>  <span style=color:#f38ba8>enum</span> <span style=color:#f9e2af>Key</span>: <span style=color:#89dceb>String</span> {
</span></span><span style=display:flex><span>    <span style=color:#cba6f7>case</span> lockOnExit = <span style=color:#a6e3a1>&#34;lockOnExit&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#cba6f7>case</span> showImages = <span style=color:#a6e3a1>&#34;show_images&#34;</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>userDefaults</span>: UserDefaults
</span></span><span style=display:flex><span>  <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>key</span>: Key
</span></span><span style=display:flex><span>  <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>defaultValue</span>: T
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#f38ba8>init</span>(userDefaults: UserDefaults = UserDefaults.standard,
</span></span><span style=display:flex><span>       key: Key,
</span></span><span style=display:flex><span>       defaultValue: T) {
</span></span><span style=display:flex><span>    <span style=color:#fab387>self</span>.userDefaults = userDefaults
</span></span><span style=display:flex><span>    <span style=color:#fab387>self</span>.key = key
</span></span><span style=display:flex><span>    <span style=color:#fab387>self</span>.defaultValue = defaultValue
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#f38ba8>var</span> <span style=color:#f5e0dc>wrappedValue</span>: T {
</span></span><span style=display:flex><span>    <span style=color:#cba6f7>get</span> { <span style=color:#cba6f7>return</span> userDefaults.object(forKey: key.rawValue) <span style=color:#cba6f7>as</span>? T ?? defaultValue }
</span></span><span style=display:flex><span>    <span style=color:#cba6f7>set</span> { userDefaults.<span style=color:#cba6f7>set</span>(newValue, forKey: key.rawValue) }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Using it is very easy:</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#f38ba8>class</span> <span style=color:#f9e2af>ImagesViewController</span>: UIViewController {
</span></span><span style=display:flex><span>  @UserDefault(key: .lockOnExit, defaultValue: <span style=color:#fab387>true</span>) <span style=color:#f38ba8>var</span> <span style=color:#f5e0dc>maxAttempts</span>
</span></span><span style=display:flex><span>  @UserDefault(key: .showImages, defaultValue: <span style=color:#fab387>false</span>) <span style=color:#f38ba8>var</span> <span style=color:#f5e0dc>showImages</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Now that you have this class, your user defaults are more obvious and it&rsquo;s easier to know what context they should be used in.</p><h2 id=the-complexuserdefault-property-wrapper>The <code>ComplexUserDefault</code> Property Wrapper</h2><p>It&rsquo;s common to store more complex data in UserDefaults, such as complete JSON structures, or just complete objects. To handle these cases, I created another property wrapper called <code>ComplexUserDefault</code> which serializes objects into <code>Data</code> using <code>Codable</code> and persists them that way. There are many ways you could do this, but I found this one was better and more self contained than the alternatives (like using protocols and extensions).</p><p>This property wrapper looks very similar to the previous one, but with a few changes. First, you cannot specify a default value because I found it doesn&rsquo;t make sense in this case. So this property wrapper can return and store nil values. Then, the <code>wrappedProperty</code> can return nil and it takes care of the serialization and deserialization of values. Finally, the generic value is constrained to objects that conform to <code>Codable</code>.</p><p>The complete implementation looks like this:</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span>@propertyWrapper
</span></span><span style=display:flex><span><span style=color:#f38ba8>struct</span> <span style=color:#f9e2af>ComplexUserDefault</span>&lt;T: Codable&gt; {
</span></span><span style=display:flex><span>  <span style=color:#f38ba8>enum</span> <span style=color:#f9e2af>Key</span>: <span style=color:#89dceb>String</span> {
</span></span><span style=display:flex><span>    <span style=color:#cba6f7>case</span> userInfo = <span style=color:#a6e3a1>&#34;user_info&#34;</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>userDefaults</span>: UserDefaults
</span></span><span style=display:flex><span>  <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>key</span>: Key
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#f38ba8>init</span>(userDefaults: UserDefaults = UserDefaults.standard,
</span></span><span style=display:flex><span>       key: Key) {
</span></span><span style=display:flex><span>    <span style=color:#fab387>self</span>.userDefaults = userDefaults
</span></span><span style=display:flex><span>    <span style=color:#fab387>self</span>.key = key
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#f38ba8>var</span> <span style=color:#f5e0dc>wrappedValue</span>: T? {
</span></span><span style=display:flex><span>    <span style=color:#cba6f7>get</span> {
</span></span><span style=display:flex><span>      <span style=color:#cba6f7>guard</span> <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>data</span> = userDefaults.data(forKey: key.rawValue) <span style=color:#cba6f7>else</span> { <span style=color:#cba6f7>return</span> <span style=color:#fab387>nil</span> }
</span></span><span style=display:flex><span>      <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>object</span> = <span style=color:#cba6f7>try</span>? JSONDecoder().decode(T.<span style=color:#fab387>self</span>, from: data)
</span></span><span style=display:flex><span>      <span style=color:#cba6f7>return</span> object
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#cba6f7>set</span> {
</span></span><span style=display:flex><span>      <span style=color:#cba6f7>guard</span> <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>object</span> = newValue <span style=color:#cba6f7>else</span> { <span style=color:#cba6f7>return</span> }
</span></span><span style=display:flex><span>      <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>data</span> = <span style=color:#cba6f7>try</span>? JSONEncoder().encode(object)
</span></span><span style=display:flex><span>      userDefaults.<span style=color:#cba6f7>set</span>(data, forKey: key.rawValue)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>And to show how it works, let&rsquo;s create a <code>UserInfo</code> object which will be stored in the <code>user_info</code> key:</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#f38ba8>struct</span> <span style=color:#f9e2af>UserInfo</span>: Codable {
</span></span><span style=display:flex><span>  <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>username</span>: <span style=color:#89dceb>String</span>
</span></span><span style=display:flex><span>  <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>email</span>: <span style=color:#89dceb>String</span>
</span></span><span style=display:flex><span>  <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>firstName</span>: <span style=color:#89dceb>String</span>
</span></span><span style=display:flex><span>  <span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>lastName</span>: <span style=color:#89dceb>String</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Using it as a property is the same as any other property wrapper:</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#f38ba8>class</span> <span style=color:#f9e2af>UserProfile</span> {
</span></span><span style=display:flex><span>  @ComplexUserDefault(key: .userInfo) <span style=color:#f38ba8>var</span> <span style=color:#f5e0dc>userInfo</span>: UserInfo?
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>And finally, assigning the property is nothing different:</p><div class=highlight><pre tabindex=0 style=color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#f38ba8>let</span> <span style=color:#f5e0dc>profile</span> = UserProfile()
</span></span><span style=display:flex><span>profile.userInfo = UserInfo(username: <span style=color:#a6e3a1>&#34;aibanez&#34;</span>,
</span></span><span style=display:flex><span>                            email: <span style=color:#a6e3a1>&#34;andy@andyibanez.com&#34;</span>,
</span></span><span style=display:flex><span>                            firstName: <span style=color:#a6e3a1>&#34;Andy&#34;</span>,
</span></span><span style=display:flex><span>                            lastName: <span style=color:#a6e3a1>&#34;Ibanez&#34;</span>)
</span></span></code></pre></div><p>You now have two property wrappers to deal with your settings in a clean and independent way. You don&rsquo;t have to fight with singletons for your defaults ever again.</p><h1 id=conclusion>Conclusion</h1><p>Property Wrappers are very powerful, and they can help you kill common patterns in favor of something nicer and more contextually aware. Using them for user defaults has a lot of benefits and it helps you write cleaner code, not to mention it can help new programmers in a project get up to speed with how defaults are stored.</p></article></div></main><footer><div class=container><div class=footer-navigation><a href=https://github.com/AndyIbanez><span class=inline-svg><svg viewBox="0 0 42 40" id="svg4" width="42" height="40"><path fill="currentColor" d="m14.20936 32.20794c0 .16542-.19024.29776-.4301.29776-.27295.0248-.46319-.10752-.46319-.29776.0-.16542.19024-.29776.4301-.29776.24814-.0248.46319.10752.46319.29776zm-2.57234-.3722c-.0579.16542.10753.35566.35566.40528.21505.0827.46319.0.51282-.16542.0496-.16542-.10753-.35566-.35566-.4301-.21505-.0579-.45492.0248-.51282.19024zm3.65586-.14061c-.23986.0579-.40529.21505-.38047.40528.0248.16543.23986.27295.488.21505.23986-.0579.40528-.21505.38047-.38047-.0248-.15715-.24813-.26468-.488-.23986zM20.73531-.19734273e-6C9.2632-.19734273e-6.48748 8.7095398.48748 20.18166c0 9.17273 5.77328 17.02207 14.01964 19.78464 1.05871.19024 1.43091-.46319 1.43091-1.00081.0-.51282-.0248-3.34156-.0248-5.0785.0.0-5.78982 1.24067-7.00568-2.46481.0.0-.94292-2.40691-2.29939-3.02725.0.0-1.8941-1.29857.13234-1.27376.0.0 2.05952.16542 3.19267 2.13396 1.81139 3.19267 4.84691 2.27457 6.02969 1.72868.19023-1.32339.72786-2.24149 1.32338-2.78739-4.62358-.51281-9.28852-1.18278-9.28852-9.13964.0-2.27458.62861-3.416 1.95199-4.87172-.21505-.53763-.9181-2.7543.21506-5.6161302 1.72867-.53762 5.7071 2.2332202 5.7071 2.2332202 1.65424-.46319 3.43254-.70305 5.1943-.70305 1.76176.0 3.54006.23986 5.1943.70305.0.0 3.97843-2.7791202 5.7071-2.2332202 1.13315 2.8701002.4301 5.0785002.21505 5.6161302 1.32339 1.46399 2.13397 2.60542 2.13397 4.87172.0 7.98168-4.87172 8.61856-9.49531 9.13964.76095.65342 1.4061 1.8941 1.4061 3.83782.0 2.78739-.0248 6.23647-.0248 6.9147.0.53763.38047 1.19105 1.43091 1.00082 8.27117-2.74603 13.87903-10.59537 13.87903-19.7681C41.51252 8.7095398 32.20745-.19734273e-6 20.73533-.19734273e-6zM8.52706 28.52727c-.10752.0827-.0827.27295.0579.4301.13234.13234.32258.19024.4301.0827.10753-.0827.0827-.27295-.0579-.4301-.13233-.13234-.32257-.19024-.4301-.0827zM7.63378 27.8573c-.0579.10753.0248.23987.19023.32258.13234.0827.29777.0579.35566-.0579C8.23757 28.01446 8.15487 27.88212 7.98944 27.7994 7.82401 27.7498 7.69168 27.7746 7.63378 27.8573zm2.67986 2.94454c-.13234.10753-.0827.35566.10752.51281.19024.19024.4301.21505.53763.0827.10752-.10752.0579-.35566-.10753-.51281-.18196-.19024-.4301-.21505-.53762-.0827zM9.37072 29.58598c-.13234.0827-.13234.29776.0.488.13234.19023.35566.27295.46319.19023.13234-.10752.13234-.32257.0-.51281-.1158-.19024-.33085-.27295-.46319-.16542z" id="path2" style="stroke-width:.08271171"/></svg>
</span></a><a href=https://x.com/AndyIbanezK><span class=inline-svg><svg viewBox="0 0 50 40" id="svg4" width="50" height="40"><path fill="currentColor" d="m44.56253 9.96871c.0313.43748.0313.87506.0313 1.31254C44.59383 24.62494 34.43764 40 15.87508 40 10.1563 40 4.84383 38.34368.37506 35.4688c.81253.0937 1.5937.12495 2.4375.12495 4.71867.0 9.06249-1.5937 12.53125-4.31245-4.43751-.0938-8.15627-3.00003-9.43754-7.00006.62505.0937 1.25001.15622 1.90632.15622.90622.0 1.81254-.12505 2.65624-.34369C5.84384 23.15619 2.37498 19.09373 2.37498 14.18748v-.12495c1.3437.75 2.90633 1.21875 4.56246 1.28117-2.71876-1.81253-4.49993-4.90624-4.49993-8.40627.0-1.87497.4999-3.59372 1.37496-5.09373 4.96877 6.125 12.43756 10.12493 20.81248 10.56251-.15622-.75001-.25-1.53118-.25-2.31245C24.37495 4.5312 28.87498.0 34.46871.0c2.90623.0 5.53121 1.21875 7.37501 3.1875 2.28118-.43748 4.46867-1.28127 6.40626-2.43749-.75011 2.3438-2.34381 4.31255-4.43751 5.56246 2.03127-.21864 4.00003-.78126 5.81247-1.56244-1.37477 1.99992-3.09362 3.7811-5.06237 5.21868z" id="path2" style="stroke-width:.09619153"/></svg>
</span></a><a href=https://www.linkedin.com/in/andyibanez/><span class=inline-svg><svg viewBox="0 0 41 40" id="svg4" width="41" height="40"><path fill="currentColor" d="M9.45332 40H1.16028V13.29405H9.45332zM5.30234 9.65111c-2.65185.0-4.80279-2.19648-4.80279-4.84832a4.80279 4.80279.0 019.60558.0c0 2.65184-2.15184 4.84832-4.80279 4.84832zM40.49152 40H32.21633V26.99971c0-3.09828-.0625-7.07159-4.3117-7.07159-4.3117.0-4.97243 3.36615-4.97243 6.84837V40H14.64808V13.29405h7.95375v3.64294h.11608c1.10716-2.09827 3.81169-4.3126 7.8466-4.3126 8.39304.0 9.93594 5.52691 9.93594 12.70564V40z" id="path2" style="stroke-width:.08928771"/></svg>
</span></a><a href=https://www.andyibanez.com/posts/index.xml><span class=inline-svg><svg viewBox="0 0 40 40" id="svg4" width="40" height="40"><path fill="currentColor" d="m11.435816 34.282008c0 3.15793-2.5599899 5.71793-5.7179299 5.71793s-5.717840022654-2.56-5.717840022654-5.71793c0-3.15794 2.559990022654-5.71793 5.717930022654-5.71793s5.7178399 2.56008 5.7178399 5.71793zm15.68388 4.21873C26.373806 24.697208 15.317496 13.626978 1.4992361 12.880288.68361608 12.836188.46077346e-4 13.491538.46077346e-4 14.308318v4.29186c0 .75134.579460002654 1.38142 1.329190022654 1.43017 9.9849699.65036 17.9886099 8.63408 18.6402999 18.6403.0488.74973.67893 1.3292 1.43018 1.3292h4.29186c.81687 9e-5 1.47223-.68348 1.42812-1.49911zm12.87933.0257C39.249566 17.649718 22.452206.754048 1.4735261.00092799867.66727608-.027972.46077346e-4.623338.46077346e-4 1.430038v4.29177c0 .77008.610270002654 1.39687 1.379730022654 1.42848 17.0694999.6999 30.7701699 14.40316 31.4699899 31.46999.0315.76946.6583 1.37972 1.42848 1.37972h4.29177c.8066-8e-5 1.45794-.66731 1.42901-1.47356z" id="path2" style="stroke-width:.08928544"/></svg>
</span></a><a href=https://www.andyibanez.com/contact><span class=inline-svg><svg viewBox="0 0 40 40" id="svg4" width="40" height="40"><path fill="currentColor" d="m39.99999 36.249999c0 2.0711-1.6789 3.75-3.74999 3.75H3.75c-2.07109.0-3.74999-1.6789-3.74999-3.75v-20.56843a3.7499996 3.7499996.0 011.43648-2.95125c1.94633-1.5257 3.55476-2.7628904 12.82812-9.4930404C15.57906 2.2789186 18.18727-.02709136 20 .00024864227 21.81234-.02745136 24.42156 2.2793086 25.73539 3.2371986c9.27242 6.72945 10.88304 7.9683604 12.82812 9.4931204a3.7499996 3.7499996.0 011.43648 2.95125zm-5.13015-15.35976c-.20024-.29125-.60156-.35898-.88586-.14898-1.78476 1.3182-4.33297 3.18008-8.24859 6.02179-1.31445.95828-3.92266 3.26414-5.73539 3.23672-1.81336.0269-4.41867-2.2768-5.73539-3.23672-3.91515-2.8414-6.46359-4.70343-8.24859-6.02179-.2843-.21-.68562-.14227-.88586.14898l-.70875 1.03094a.62484368.62484368.0 00.14367.8568c1.78805 1.32023 4.33235 3.1789 8.2268 6.00531 1.5839 1.15476 4.41593 3.73539 7.20812 3.71664 2.79094.0189 5.62195-2.56024 7.20804-3.71664 3.89453-2.82649 6.43891-4.68516 8.2268-6.00531a.62484368.62484368.0 00.14367-.8568z" id="path2" style="stroke-width:.07812498"/></svg></span></a></div></div><p class=made-with-love><a href=https://github.com/humrochagf/colordrop><b>Colordrop</b>
</a><span>theme | Made </span><span>by</span>
<a href=https://humberto.io/><b>Humberto Rocha</b></a></p></footer></div><script src=/copy/copy.js></script><script src=/search/elasticlunr.min.js></script><script src=/search/search.js></script><script>loadSearch("https://www.andyibanez.com/index.json")</script></body></html>